(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[446],{7446:(l,h,i)=>{"use strict";i.r(h),i.d(h,{BooksModule:()=>kr});var a=i(6895),u=i(6547),c=i(1201),d=i(651),e=i(4650),p=i(9653),f=i(4705);function m(n,r){if(1&n&&(e.TgZ(0,"div",1)(1,"div"),e.O4$(),e.TgZ(2,"svg",2),e._UZ(3,"path",3),e.qZA(),e.kcU(),e.TgZ(4,"span",4),e._uU(5),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.hij(" Book saved! ",t.successMsg,"")}}let v=(()=>{class n{constructor(t){this.store=t,this._saved=!1,this.successMsg="Book has been saved successfully"}set saved(t){this._saved=t,this._saved&&setTimeout(()=>{this.store.dispatch((0,d.ur)())},5e3)}get saved(){return this._saved}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bm-success-alert"]],inputs:{successMsg:"successMsg",saved:"saved"},decls:1,vars:1,consts:[["class","fixed left-7 w-11/12 top-16 z-50 alert alert-info shadow-lg",4,"ngIf"],[1,"fixed","left-7","w-11/12","top-16","z-50","alert","alert-info","shadow-lg"],["data-id","closeBtn","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-current","flex-shrink-0","w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["data-id","message"]],template:function(t,o){1&t&&e.YNc(0,m,6,1,"div",0),2&t&&e.Q6J("ngIf",o.saved)},dependencies:[a.O5]}),n})(),y=(()=>{class n{constructor(){this.smallActive=!0}get elementClasses(){return{"px-10":this.smallActive,"pt-10":this.smallActive,"pb-10":this.smallActive}}smallOn(){this.smallActive=!1}smallOff(){this.smallActive=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","bmZoom",""]],hostVars:2,hostBindings:function(t,o){1&t&&e.NdJ("mouseenter",function(){return o.smallOn()})("mouseleave",function(){return o.smallOff()}),2&t&&e.Tol(o.elementClasses)}}),n})(),O=(()=>{class n{transform(t,...o){if(t)return t.slice(0,3)+"-"+t.slice(3)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"isbn",type:n,pure:!0}),n})();function b(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,", "),e.qZA())}function T(n,r){if(1&n&&(e.TgZ(0,"div",9),e._uU(1),e.YNc(2,b,2,0,"span",10),e.qZA()),2&n){const t=r.$implicit,o=r.last;e.xp6(1),e.hij(" ",t,""),e.xp6(1),e.Q6J("ngIf",!o)}}const w=function(n){return["/books/detail",n]};let k=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:17,vars:13,consts:[[1,"container","py-4"],[1,"card","md:card-side","bg-base-100","shadow-xl"],["bmZoom","",1,"h-full","w-20","lg:object-cover","md:h-full","md:w-48","sm:h-full","sm:w-24",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"text-lg"],["class","text-xs",4,"ngFor","ngForOf"],["data-cy","isbn"],[1,"btn","btn-primary","basis-1/4","m-2",3,"routerLink"],[1,"text-xs"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"figure"),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"div",3)(5,"h2",4),e._uU(6),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"div"),e.YNc(10,T,3,2,"div",6),e._UZ(11,"br"),e.TgZ(12,"span",7),e._uU(13),e.ALo(14,"isbn"),e.qZA(),e.TgZ(15,"button",8),e._uU(16," Details "),e.qZA()()()()()),2&t&&(e.uIk("data-cy","card-"+(null==o.book?null:o.book.isbn)),e.xp6(3),e.s9C("src",null==o.book||null==o.book.thumbnails||null==o.book.thumbnails[0]?null:o.book.thumbnails[0].url,e.LSH),e.s9C("alt",null==o.book||null==o.book.thumbnails||null==o.book.thumbnails[0]?null:o.book.thumbnails[0].title),e.xp6(2),e.uIk("data-cy","title/"+(null==o.book?null:o.book.isbn)),e.xp6(1),e.hij(" ",null==o.book?null:o.book.title," "),e.xp6(2),e.Oqu(null==o.book?null:o.book.subtitle),e.xp6(2),e.Q6J("ngForOf",null==o.book?null:o.book.authors),e.xp6(3),e.hij("ISBN: ",e.lcZ(14,9,null==o.book?null:o.book.isbn)," "),e.xp6(2),e.Q6J("routerLink",e.VKq(11,w,null==o.book?null:o.book.isbn)))},dependencies:[a.sg,a.O5,u.rH,y,O]}),n})();function F(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bm-notification-alert",2),e.NdJ("closeErrorEventEmitter",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeError())}),e.qZA(),e.BQk()}if(2&n){const t=r.ngIf;e.xp6(1),e.Q6J("error",t)}}function S(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"bm-success-alert",3),e.BQk()),2&n){const t=r.ngIf;e.xp6(1),e.Q6J("saved",t)("successMsg","Book has been saved successfully")}}const D=function(n){return["/books/detail",n]};function A(n,r){if(1&n&&e._UZ(0,"bm-book-list-item",5),2&n){const t=r.$implicit,o=r.index;e.Q6J("book",t)("routerLink",e.VKq(3,D,t.isbn)),e.uIk("data-id","book-item-"+o)}}function B(n,r){if(1&n&&(e.ynx(0),e.YNc(1,A,1,5,"bm-book-list-item",4),e.BQk()),2&n){const t=r.ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}let M=(()=>{class n{constructor(t,o){this.cd=t,this.store=o,this.books$=this.store.select(c.tX),this.showSaveSuccess$=this.store.select(c.GY),this.error$=this.store.select(c.J5)}ngOnInit(){this.listView=!0}closeError(){this.store.dispatch((0,d.M4)())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(p.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bm-book-list"]],decls:7,vars:9,consts:[[1,"container","px-8","py-8"],[4,"ngIf"],["data-id","error-element",3,"error","closeErrorEventEmitter"],[3,"saved","successMsg"],["class","item",3,"book","routerLink",4,"ngFor","ngForOf"],[1,"item",3,"book","routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,F,2,1,"ng-container",1),e.ALo(2,"async"),e.YNc(3,S,2,2,"ng-container",1),e.ALo(4,"async"),e.YNc(5,B,2,1,"ng-container",1),e.ALo(6,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,o.error$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,5,o.showSaveSuccess$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,7,o.books$)))},dependencies:[a.sg,a.O5,u.rH,f.k,v,k,a.Ov]}),n})();var x=i(9646),C=i(3530);let V=(()=>{class n{constructor(){this.visibility="hidden"}ngOnChanges(t){const{bmDelay:o}=t;setTimeout(()=>{this.visibility="visible"},o.currentValue)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","bmDelay",""]],hostVars:2,hostBindings:function(t,o){2&t&&e.Udp("visibility",o.visibility)},inputs:{bmDelay:"bmDelay"},features:[e.TTD]}),n})();function I(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bm-notification-alert",2),e.NdJ("closeErrorEventEmitter",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeError())}),e.qZA(),e.BQk()}if(2&n){const t=r.ngIf;e.xp6(1),e.Q6J("error",t)}}function G(n,r){if(1&n&&(e.ynx(0),e._uU(1),e._UZ(2,"br"),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t,"")}}function j(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"star-solid-icon",30),e.BQk()),2&n){const t=r.index;e.xp6(1),e.Q6J("bmDelay",1e3+500*t)}}function E(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",29),e.YNc(2,j,2,1,"ng-container",11),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf;e.xp6(2),e.Q6J("ngForOf",",".repeat(t.rating-1).split(","))}}const $=function(n){return["/admin/edit",n]};function Z(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"div",5),e._uU(4),e.qZA(),e.TgZ(5,"div",6),e._uU(6),e.qZA(),e._UZ(7,"div",7),e.TgZ(8,"div",8)(9,"div",9)(10,"div",6),e.SDv(11,10),e.qZA(),e.YNc(12,G,3,1,"ng-container",11),e.qZA(),e.TgZ(13,"div",12)(14,"div",6),e._uU(15,"ISBN:"),e.qZA(),e._uU(16),e.ALo(17,"isbn"),e.qZA(),e.TgZ(18,"div",13)(19,"div",14),e.SDv(20,15),e.qZA(),e._uU(21),e.ALo(22,"date"),e.qZA(),e.TgZ(23,"div",13)(24,"div",6),e.SDv(25,16),e.qZA(),e.YNc(26,E,3,1,"ng-container",1),e.qZA()(),e.TgZ(27,"div",17),e.SDv(28,18),e.qZA(),e.TgZ(29,"p"),e._uU(30),e.qZA(),e._UZ(31,"img",19)(32,"br")(33,"br"),e.qZA(),e.TgZ(34,"div",20)(35,"div",21)(36,"button",22),e._uU(37," Edit "),e.qZA(),e.TgZ(38,"button",23),e.NdJ("click",function(){const g=e.CHM(t).ngIf,_=e.oxw();return e.KtG(_.delete(g.isbn))}),e.SDv(39,24),e.qZA(),e.TgZ(40,"button",25),e.SDv(41,26),e.qZA(),e.TgZ(42,"button",27),e.SDv(43,28),e.qZA()()()(),e.BQk()}if(2&n){const t=r.ngIf;e.xp6(4),e.hij(" ",t.title," "),e.xp6(2),e.Oqu(t.subtitle),e.xp6(6),e.Q6J("ngForOf",t.authors),e.xp6(4),e.hij(" ",e.lcZ(17,10,t.isbn)," "),e.xp6(5),e.hij(" ",e.xi3(22,12,t.published,"longDate")," "),e.xp6(5),e.Q6J("ngIf",t.rating),e.xp6(4),e.Oqu(t.description),e.xp6(1),e.s9C("src",null==t.thumbnails||null==t.thumbnails[0]?null:t.thumbnails[0].url,e.LSH),e.s9C("alt",null==t.thumbnails||null==t.thumbnails[0]?null:t.thumbnails[0].title),e.xp6(5),e.Q6J("routerLink",e.VKq(15,$,t.isbn))}}let rt=(()=>{class n{constructor(t,o,s){this.router=t,this.route=o,this.store=s,this.book$=this.store.select(c.eY),this.id=0,this.error$=this.store.select(c.J5),this.confirmMessage="Really delete book?"}delete(t){this.confirm(this.confirmMessage).subscribe(o=>{o&&t&&this.reallyDelete(t)})}reallyDelete(t){this.store.dispatch((0,d.gY)({id:t})),this.router.navigate(["/books/list"])}confirm(t){const o=window.confirm(t);return(0,x.of)(o)}closeError(){this.store.dispatch((0,d.M4)())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(p.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bm-book-details"]],decls:5,vars:6,consts:function(){let r,t,o,s,g,_,N;return r=$localize`:@@Authors:Authors:`,t=$localize`:@@published: published: `,o=$localize`:@@rating:Rating:`,s=$localize`:@@bookDescription: Description: `,g=$localize`:@@deleteButton: Delete `,_=$localize`:@@backToBookListButton: back to book list `,N=$localize`:@@next: Next `,[[1,"px-8","py-8"],[4,"ngIf"],["data-id","error-element",3,"error","closeErrorEventEmitter"],[1,"container"],[1,"mb-14"],["data-id","title",1,"text-2xl","font-bold","pb-8"],[1,"text-lg","font-bold"],[1,"divider"],[1,"flex","flex-row","flex-wrap","pb-8"],[1,"basis-1/5","pr-2","pb-2"],r,[4,"ngFor","ngForOf"],["id","isbn","data-id","isbn",1,"basis-1/4","pr-2","pb-2"],[1,"basis-1/4","pr-2","pb-2"],["id","published",1,"text-lg","font-bold"],t,o,[1,"text-lg","font-bold","pb-2"],s,[1,"h-full","w-48",3,"src","alt"],[1,"fixed","left-7","w-11/12","bottom-2","z-10"],[1,"flex","flex-row"],["id","editButton","data-cy","editBtn",1,"btn","btn-primary","basis-1/4","m-2",3,"routerLink"],["data-cy","deleteBtn",1,"btn","btn-secondary","basis-1/4","m-2",3,"click"],g,["data-cy","backToListBtn","routerLink","/books/list",1,"btn","btn-secondary","basis-1/4","m-2"],_,["data-cy","nextBtn",1,"btn","btn-secondary","basis-1/4","m-2"],N,[1,"flex","flex-wrap"],["color","goldenrod",3,"bmDelay"]]},template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,I,2,1,"ng-container",1),e.ALo(2,"async"),e.YNc(3,Z,44,17,"ng-container",1),e.ALo(4,"async"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,o.error$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,o.book$)))},dependencies:[a.sg,a.O5,u.rH,C.j0F,f.k,V,a.Ov,a.uU,O],styles:["p[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),n})();var R=i(3900),ot=i(1884),Yt=i(8505),zt=i(9300),Kt=i(5698),un=i(4509),Ot=i.n(un);let cn=(()=>{class n{constructor(t,o){this.store=t,this.router=o}canActivate(t,o){return this.getFromStoreOrAPI().pipe((0,R.w)(s=>(0,x.of)(s.total>0&&!s.httpError&&!s.errorMessage||this.router.parseUrl("/error"))))}getFromStoreOrAPI(){return this.store.select(c.Vj).pipe((0,ot.x)((t,o)=>Ot()(t,o)),(0,Yt.b)(t=>{this.dispatchActions(t)}),(0,zt.h)(t=>this.canWeProceed(t)),(0,Kt.q)(1))}canWeProceed(t){return t.lastUpdateTS>=Date.now()-6e4||!!t.total||!!t.httpError||!!t.errorMessage}dispatchActions(t){t.lastUpdateTS<Date.now()-6e4?this.store.dispatch((0,d.bV)()):!t.total&&!t.httpError&&!t.errorMessage&&this.store.dispatch((0,d.gz)({message:"no books found from backend recently"}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.yh),e.LFG(u.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var W=i(262),dn=i(529);let Jt=(()=>{class n{constructor(t,o){this.store=t,this.router=o}canActivate(t,o){let s=t.paramMap.get("isbn");return s?this.getFromStoreOrAPI(s).pipe((0,R.w)(g=>(0,x.of)(g.currentBookId===s||this.router.parseUrl("/error"))),(0,W.K)(g=>{let _;return _=g instanceof dn.UA?JSON.stringify(g):g.toString(),console.error("errorMsg="+_),this.store.dispatch((0,d.gz)({message:_})),(0,x.of)(this.router.parseUrl("/error"))})):(this.store.dispatch((0,d.gz)({message:"isbn number not found in paramMap of route"})),(0,x.of)(this.router.parseUrl("/error")))}getFromStoreOrAPI(t){return this.store.select(c.w2).pipe((0,ot.x)((o,s)=>Ot()(o,s)),(0,Yt.b)(o=>{this.isCurrentBookOrErrorAndUpToDate(o,t)||this.dispatchLoadAction(o.allBooks,o.lastUpdateTS,t)}),(0,zt.h)(o=>this.isCurrentBookOrErrorAndUpToDate(o,t)),(0,Kt.q)(1))}isCurrentBookOrErrorAndUpToDate(t,o){return t.currentBookId===o||!!t.httpError?.message&&t.lastUpdateTS>=Date.now()-6e4||null!==t.errorMessage&&t.lastUpdateTS>=Date.now()-6e4}dispatchLoadAction(t,o,s){if(!t?.length&&o<Date.now()-6e4)this.store.dispatch((0,d.bV)());else if(t?.find(_=>_.isbn==s))this.store.dispatch((0,d.WU)({currentBookId:s}));else{const _=Date.now()-6e4;this.store.dispatch(o<_?(0,d.u6)({isbn:s}):(0,d.S2)({errorMessage:"reloaded books less then 1 min ago, but isbn not found"}))}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.yh),e.LFG(u.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var hn=i(457),pn=i(9751),fn=i(4742),gn=i(8421),mn=i(3269),_n=i(5403),vn=i(3268),yn=i(1810),q=i(4004);let Qt=(()=>{class n{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n}),n})(),X=(()=>{class n extends Qt{}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n})();const Y=new e.OlP("NgValueAccessor"),An={provide:Y,useExisting:(0,e.Gpc)(()=>dt),multi:!0},En=new e.OlP("CompositionEventMode");let dt=(()=>{class n extends Qt{constructor(t,o,s){super(t,o),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vn(){const n=(0,a.q)()?(0,a.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(En,8))},n.\u0275dir=e.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(g){return o._handleInput(g.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(g){return o._compositionEnd(g.target.value)})},features:[e._Bn([An]),e.qOj]}),n})();function K(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function qt(n){return null!=n&&"number"==typeof n.length}const P=new e.OlP("NgValidators"),J=new e.OlP("NgAsyncValidators"),xn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class it{static min(r){return function Xt(n){return r=>{if(K(r.value)||K(n))return null;const t=parseFloat(r.value);return!isNaN(t)&&t<n?{min:{min:n,actual:r.value}}:null}}(r)}static max(r){return function te(n){return r=>{if(K(r.value)||K(n))return null;const t=parseFloat(r.value);return!isNaN(t)&&t>n?{max:{max:n,actual:r.value}}:null}}(r)}static required(r){return ee(r)}static requiredTrue(r){return function ne(n){return!0===n.value?null:{required:!0}}(r)}static email(r){return function re(n){return K(n.value)||xn.test(n.value)?null:{email:!0}}(r)}static minLength(r){return function oe(n){return r=>K(r.value)||!qt(r.value)?null:r.value.length<n?{minlength:{requiredLength:n,actualLength:r.value.length}}:null}(r)}static maxLength(r){return function ie(n){return r=>qt(r.value)&&r.value.length>n?{maxlength:{requiredLength:n,actualLength:r.value.length}}:null}(r)}static pattern(r){return function se(n){if(!n)return ht;let r,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),r=new RegExp(t)):(t=n.toString(),r=n),o=>{if(K(o.value))return null;const s=o.value;return r.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(r)}static nullValidator(r){return null}static compose(r){return he(r)}static composeAsync(r){return pe(r)}}function ee(n){return K(n.value)?{required:!0}:null}function ht(n){return null}function ae(n){return null!=n}function le(n){return(0,e.QGY)(n)?(0,hn.D)(n):n}function ue(n){let r={};return n.forEach(t=>{r=null!=t?{...r,...t}:r}),0===Object.keys(r).length?null:r}function ce(n,r){return r.map(t=>t(n))}function de(n){return n.map(r=>function On(n){return!n.validate}(r)?r:t=>r.validate(t))}function he(n){if(!n)return null;const r=n.filter(ae);return 0==r.length?null:function(t){return ue(ce(t,r))}}function Dt(n){return null!=n?he(de(n)):null}function pe(n){if(!n)return null;const r=n.filter(ae);return 0==r.length?null:function(t){return function bn(...n){const r=(0,mn.jO)(n),{args:t,keys:o}=(0,fn.D)(n),s=new pn.y(g=>{const{length:_}=t;if(!_)return void g.complete();const N=new Array(_);let U=_,nt=_;for(let xt=0;xt<_;xt++){let $t=!1;(0,gn.Xf)(t[xt]).subscribe((0,_n.x)(g,Ir=>{$t||($t=!0,nt--),N[xt]=Ir},()=>U--,void 0,()=>{(!U||!$t)&&(nt||g.next(o?(0,yn.n)(o,N):N),g.complete())}))}});return r?s.pipe((0,vn.Z)(r)):s}(ce(t,r).map(le)).pipe((0,q.U)(ue))}}function St(n){return null!=n?pe(de(n)):null}function fe(n,r){return null===n?[r]:Array.isArray(n)?[...n,r]:[n,r]}function ge(n){return n._rawValidators}function me(n){return n._rawAsyncValidators}function Tt(n){return n?Array.isArray(n)?n:[n]:[]}function pt(n,r){return Array.isArray(n)?n.includes(r):n===r}function _e(n,r){const t=Tt(r);return Tt(n).forEach(s=>{pt(t,s)||t.push(s)}),t}function ve(n,r){return Tt(r).filter(t=>!pt(n,t))}class ye{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Dt(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=St(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,t){return!!this.control&&this.control.hasError(r,t)}getError(r,t){return this.control?this.control.getError(r,t):null}}class L extends ye{get formDirective(){return null}get path(){return null}}class Q extends ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class be{constructor(r){this._cd=r}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ce=(()=>{class n extends be{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q,2))},n.\u0275dir=e.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[e.qOj]}),n})(),Ae=(()=>{class n extends be{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L,10))},n.\u0275dir=e.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[e.qOj]}),n})();const st="VALID",gt="INVALID",et="PENDING",at="DISABLED";function Nt(n){return(mt(n)?n.validators:n)||null}function Ee(n){return Array.isArray(n)?Dt(n):n||null}function kt(n,r){return(mt(r)?r.asyncValidators:n)||null}function Me(n){return Array.isArray(n)?St(n):n||null}function mt(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function xe(n,r,t){const o=n.controls;if(!(r?Object.keys(o):o).length)throw new e.vHH(1e3,"");if(!o[t])throw new e.vHH(1001,"")}function Oe(n,r,t){n._forEachChild((o,s)=>{if(void 0===t[s])throw new e.vHH(1002,"")})}class _t{constructor(r,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=t,this._composedValidatorFn=Ee(this._rawValidators),this._composedAsyncValidatorFn=Me(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===st}get invalid(){return this.status===gt}get pending(){return this.status==et}get disabled(){return this.status===at}get enabled(){return this.status!==at}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=Ee(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=Me(r)}addValidators(r){this.setValidators(_e(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(_e(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(ve(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(ve(r,this._rawAsyncValidators))}hasValidator(r){return pt(this._rawValidators,r)}hasAsyncValidator(r){return pt(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=et,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const t=this._parentMarkedDirty(r.onlySelf);this.status=at,this.errors=null,this._forEachChild(o=>{o.disable({...r,onlySelf:!0})}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...r,skipPristineCheck:t}),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const t=this._parentMarkedDirty(r.onlySelf);this.status=st,this._forEachChild(o=>{o.enable({...r,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors({...r,skipPristineCheck:t}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===st||this.status===et)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?at:st}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=et,this._hasOwnPendingAsyncValidator=!0;const t=le(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,t={}){this.errors=r,this._updateControlsErrors(!1!==t.emitEvent)}get(r){let t=r;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,s)=>o&&o._find(s),this)}getError(r,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[r]:null}hasError(r,t){return!!this.getError(r,t)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?at:this.errors?gt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(et)?et:this._anyControlsHaveStatus(gt)?gt:st}_anyControlsHaveStatus(r){return this._anyControls(t=>t.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){mt(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(r){return null}}class lt extends _t{constructor(r,t,o){super(Nt(t),kt(o,t)),this.controls=r,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,t){return this.controls[r]?this.controls[r]:(this.controls[r]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(r,t,o={}){this.registerControl(r,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,t={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(r,t,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],t&&this.registerControl(r,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,t={}){Oe(this,0,r),Object.keys(r).forEach(o=>{xe(this,!0,o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(r,t={}){null!=r&&(Object.keys(r).forEach(o=>{const s=this.controls[o];s&&s.patchValue(r[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(r={},t={}){this._forEachChild((o,s)=>{o.reset(r[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(r,t,o)=>(r[o]=t.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&r(o,t)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const[t,o]of Object.entries(this.controls))if(this.contains(t)&&r(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,o,s)=>((o.enabled||this.disabled)&&(t[s]=o.value),t))}_reduceChildren(r,t){let o=r;return this._forEachChild((s,g)=>{o=t(o,s,g)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(r){return this.controls.hasOwnProperty(r)?this.controls[r]:null}}class De extends lt{}function vt(n,r){return[...r.path,n]}function ut(n,r){It(n,r),r.valueAccessor.writeValue(n.value),n.disabled&&r.valueAccessor.setDisabledState?.(!0),function kn(n,r){r.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Se(n,r)})}(n,r),function Gn(n,r){const t=(o,s)=>{r.valueAccessor.writeValue(o),s&&r.viewToModelUpdate(o)};n.registerOnChange(t),r._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,r),function In(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Se(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function Nn(n,r){if(r.valueAccessor.setDisabledState){const t=o=>{r.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(t),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,r)}function yt(n,r,t=!0){const o=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(o),r.valueAccessor.registerOnTouched(o)),Ct(n,r),n&&(r._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bt(n,r){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(r)})}function It(n,r){const t=ge(n);null!==r.validator?n.setValidators(fe(t,r.validator)):"function"==typeof t&&n.setValidators([t]);const o=me(n);null!==r.asyncValidator?n.setAsyncValidators(fe(o,r.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const s=()=>n.updateValueAndValidity();bt(r._rawValidators,s),bt(r._rawAsyncValidators,s)}function Ct(n,r){let t=!1;if(null!==n){if(null!==r.validator){const s=ge(n);if(Array.isArray(s)&&s.length>0){const g=s.filter(_=>_!==r.validator);g.length!==s.length&&(t=!0,n.setValidators(g))}}if(null!==r.asyncValidator){const s=me(n);if(Array.isArray(s)&&s.length>0){const g=s.filter(_=>_!==r.asyncValidator);g.length!==s.length&&(t=!0,n.setAsyncValidators(g))}}}const o=()=>{};return bt(r._rawValidators,o),bt(r._rawAsyncValidators,o),t}function Se(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Be(n,r){const t=n.indexOf(r);t>-1&&n.splice(t,1)}function Ne(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const z=class extends _t{constructor(r=null,t,o){super(Nt(t),kt(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mt(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ne(r)?r.value:r)}setValue(r,t={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(r,t={}){this.setValue(r,t)}reset(r=this.defaultValue,t={}){this._applyFormState(r),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Be(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Be(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){Ne(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}};let ke=(()=>{class n extends L{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return vt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n})(),Le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Yn={provide:Y,useExisting:(0,e.Gpc)(()=>Ut),multi:!0};let Ut=(()=>{class n extends X{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=o=>{t(""==o?null:parseFloat(o))}}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(g){return o.onChange(g.target.value)})("blur",function(){return o.onTouched()})},features:[e._Bn([Yn]),e.qOj]}),n})(),Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const Zt=new e.OlP("NgModelWithFormControlWarning"),Wn={provide:L,useExisting:(0,e.Gpc)(()=>At)};let At=(()=>{class n extends L{constructor(t,o){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ct(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return ut(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){yt(t.control||null,t,!1),function Zn(n,r){const t=n.indexOf(r);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,function we(n,r){n._syncPendingControls(),r.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,s=this.form.get(t.path);o!==s&&(yt(o||null,t),(n=>n instanceof z)(s)&&(ut(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);(function Te(n,r){It(n,r)})(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function Pn(n,r){return Ct(n,r)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){It(this.form,this),this._oldForm&&Ct(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P,10),e.Y36(J,10))},n.\u0275dir=e.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&e.NdJ("submit",function(g){return o.onSubmit(g)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Wn]),e.qOj,e.TTD]}),n})();const qn={provide:L,useExisting:(0,e.Gpc)(()=>Vt)};let Vt=(()=>{class n extends ke{constructor(t,o,s){super(),this._parent=t,this._setValidators(o),this._setAsyncValidators(s)}_checkParentType(){He(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L,13),e.Y36(P,10),e.Y36(J,10))},n.\u0275dir=e.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[e._Bn([qn]),e.qOj]}),n})();const Xn={provide:L,useExisting:(0,e.Gpc)(()=>Et)};let Et=(()=>{class n extends L{constructor(t,o,s){super(),this._parent=t,this._setValidators(o),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return vt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){He(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L,13),e.Y36(P,10),e.Y36(J,10))},n.\u0275dir=e.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[e._Bn([Xn]),e.qOj]}),n})();function He(n){return!(n instanceof Vt||n instanceof At||n instanceof Et)}const tr={provide:Q,useExisting:(0,e.Gpc)(()=>jt)};let jt=(()=>{class n extends Q{constructor(t,o,s,g,_){super(),this._ngModelWarningConfig=_,this._added=!1,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=function Pt(n,r){if(!r)return null;let t,o,s;return Array.isArray(r),r.forEach(g=>{g.constructor===dt?t=g:function Un(n){return Object.getPrototypeOf(n.constructor)===X}(g)?o=g:s=g}),s||o||t||null}(0,g)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Gt(n,r){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(r,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return vt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(e.Y36(L,13),e.Y36(P,10),e.Y36(J,10),e.Y36(Y,10),e.Y36(Zt,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([tr]),e.qOj,e.TTD]}),n})(),tt=(()=>{class n{constructor(){this._validator=ht}ngOnChanges(t){if(this.inputName in t){const o=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):ht,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,features:[e.TTD]}),n})();const ur={provide:P,useExisting:(0,e.Gpc)(()=>Mt),multi:!0};let Mt=(()=>{class n extends tt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.D6c,this.createValidator=t=>ee}enabled(t){return t}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,o){2&t&&e.uIk("required",o._enabled?"":null)},inputs:{required:"required"},features:[e._Bn([ur]),e.qOj]}),n})(),gr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Ue]}),n})(),nn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zt,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[gr]}),n})();class rn extends _t{constructor(r,t,o){super(Nt(t),kt(o,t)),this.controls=r,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[this._adjustIndex(r)]}push(r,t={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(r,t,o={}){this.controls.splice(r,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,t={}){let o=this._adjustIndex(r);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(r,t,o={}){let s=this._adjustIndex(r);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),t&&(this.controls.splice(s,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,t={}){Oe(this,0,r),r.forEach((o,s)=>{xe(this,!1,s),this.at(s).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(r,t={}){null!=r&&(r.forEach((o,s)=>{this.at(s)&&this.at(s).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(r=[],t={}){this._forEachChild((o,s)=>{o.reset(r[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(r=>r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_adjustIndex(r){return r<0?r+this.length:r}_syncPendingControls(){let r=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){this.controls.forEach((t,o)=>{r(t,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(t=>t.enabled&&r(t))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}_find(r){return this.at(r)??null}}function on(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let mr=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,o=null){const s=this._reduceControls(t);let g={};return on(o)?g=o:null!==o&&(g.validators=o.validator,g.asyncValidators=o.asyncValidator),new lt(s,g)}record(t,o=null){const s=this._reduceControls(t);return new De(s,o)}control(t,o,s){let g={};return this.useNonNullable?(on(o)?g=o:(g.validators=o,g.asyncValidators=s),new z(t,{...g,nonNullable:!0})):new z(t,o,s)}array(t,o,s){const g=t.map(_=>this._createControl(_));return new rn(g,o,s)}_reduceControls(t){const o={};return Object.keys(t).forEach(s=>{o[s]=this._createControl(t[s])}),o}_createControl(t){return t instanceof z||t instanceof _t?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:nn}),n})();var _r=i(4312),sn=i(8126);let vr=(()=>{class n{constructor(t){this.bookService=t}checkIsbn(t){return t.value?10!=t.value.length&&13!=t.value.length?{isbnLength:{valid:!1}}:null:{isbnLength:{valid:!1}}}checkAuthors(t){return t.controls.some(o=>o.value?.length>0)?null:{oneAuthor:{valid:!1}}}asyncIsbnExistsValidator(){return t=>this.bookService.getBookFast(t.value).pipe((0,q.U)(o=>o?{isbnExists:{valid:!1}}:null),(0,W.K)(()=>(0,x.of)(null)))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(sn.T))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yr(n,r){if(1&n&&(e.TgZ(0,"div",2)(1,"div"),e.O4$(),e.TgZ(2,"svg",3),e._UZ(3,"path",4),e.qZA(),e.kcU(),e.TgZ(4,"span",5),e._uU(5),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(5),e.Oqu(t)}}function br(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,yr,6,1,"div",1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errorsForControl())}}let Cr=(()=>{class n{constructor(){this.control=null,this.controlName=null,this.errorstruct={title:{required:"A Title is required"},isbn:{required:"ISBN Number is required",maxlength:"not longer then 13 chars",minlength:"at least 11 chars",isbnLength:"ISBN not valid, must be 10 or 13 digits",isbnExists:"ISBN already exists"},authors:{oneAuthor:"we need at least one Author"}}}errorsForControl(){if(this.control?.errors){let t=this.control?.errors;const o=this.errorstruct[this.controlName];return Object.keys(t).map(s=>o[s])}return[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bm-form-messages"]],inputs:{control:"control",controlName:"controlName"},decls:1,vars:1,consts:[[4,"ngIf"],["class","alert alert-error shadow-lg",4,"ngFor","ngForOf"],[1,"alert","alert-error","shadow-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-current","flex-shrink-0","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["data-cy","errorMsg"]],template:function(t,o){1&t&&e.YNc(0,br,2,1,"div",0),2&t&&e.Q6J("ngIf",(null==o.control?null:o.control.invalid)&&((null==o.control?null:o.control.dirty)||(null==o.control?null:o.control.touched)))},dependencies:[a.sg,a.O5]}),n})();function Ar(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32),e._UZ(2,"input",33),e.TgZ(3,"div",25)(4,"minus-circle-solid-icon",34),e.NdJ("click",function(){const g=e.CHM(t).index,_=e.oxw(3);return e.KtG(_.removeAuthor(g))}),e.qZA()()()()}if(2&n){const t=r.index;e.xp6(2),e.Q6J("formControlName",t),e.uIk("data-cy","author/"+t)}}function Vr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ar,5,2,"div",30),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.authors.controls)}}function Er(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"label",40)(5,"span",8),e._uU(6,"URL: "),e.qZA(),e._UZ(7,"input",41),e.qZA(),e.TgZ(8,"label",7)(9,"span",8),e._uU(10,"Name:"),e.qZA(),e._UZ(11,"input",42),e.qZA(),e.TgZ(12,"div",25)(13,"minus-circle-solid-icon",43),e.NdJ("click",function(){const g=e.CHM(t).index,_=e.oxw(3);return e.KtG(_.removeThumb(g))}),e.qZA()()()()()()}if(2&n){const t=r.index;e.xp6(1),e.Q6J("formGroupName",t)}}function Mr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Er,14,1,"div",35),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==t.thumbnails?null:t.thumbnails.controls)}}function xr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"bm-success-alert",3),e.TgZ(2,"form",4)(3,"div",5)(4,"div",6)(5,"label",7)(6,"span",8),e._uU(7,"Title"),e.qZA(),e._UZ(8,"input",9),e.qZA()(),e._UZ(9,"bm-form-messages",10),e.TgZ(10,"label",11)(11,"span",8),e._uU(12,"Subtitle: "),e.qZA(),e._UZ(13,"input",12),e.qZA(),e.TgZ(14,"div",13)(15,"label",14)(16,"span",8),e._uU(17,"ISBN: "),e.qZA(),e._UZ(18,"input",15),e.qZA(),e._UZ(19,"bm-form-messages",16),e.qZA(),e.TgZ(20,"label",11)(21,"span",8),e._uU(22,"Published: "),e.qZA(),e._UZ(23,"input",17),e.qZA(),e.TgZ(24,"label",18)(25,"span",8),e._uU(26,"Rating: "),e.qZA(),e._UZ(27,"input",19),e.qZA(),e.TgZ(28,"label",11)(29,"span",8),e._uU(30,"Description: "),e.qZA(),e._UZ(31,"textarea",20),e.qZA(),e.TgZ(32,"div",21)(33,"div",22),e._uU(34,"Authors:"),e.qZA(),e.YNc(35,Vr,2,1,"ng-container",23),e._UZ(36,"bm-form-messages",24),e.TgZ(37,"div",25)(38,"plus-circle-solid-icon",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addAuthor())}),e.qZA()()(),e.TgZ(39,"div",27)(40,"div",22),e._uU(41,"Thumbs:"),e.qZA(),e.YNc(42,Mr,2,1,"ng-container",23),e.TgZ(43,"div",25)(44,"plus-circle-solid-icon",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addThumb())}),e.qZA()()()(),e.TgZ(45,"button",29),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.bookFormSaveBook())}),e._uU(46," Save! "),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();let o,s;e.xp6(1),e.Q6J("saved",t.saved)("successMsg",t.successMsg),e.xp6(1),e.Q6J("formGroup",t.editForm),e.xp6(7),e.Q6J("control",t.editForm.get("title")),e.xp6(7),e.ekj("bg-error",(null==(o=t.editForm.get("isbn"))?null:o.invalid)&&((null==(o=t.editForm.get("isbn"))?null:o.dirty)||(null==(o=t.editForm.get("isbn"))?null:o.touched))),e.xp6(2),e.ekj("input-error",(null==(s=t.editForm.get("isbn"))?null:s.invalid)&&((null==(s=t.editForm.get("isbn"))?null:s.dirty)||(null==(s=t.editForm.get("isbn"))?null:s.touched))),e.xp6(1),e.Q6J("control",t.editForm.get("isbn")),e.xp6(16),e.Q6J("ngIf",null==t.authors?null:t.authors.controls),e.xp6(1),e.Q6J("control",t.editForm.get("authors")),e.xp6(6),e.Q6J("ngIf",null==t.thumbnails?null:t.thumbnails.controls),e.xp6(3),e.ekj("disabled",t.editForm.invalid)("primary",!t.editForm.invalid),e.Q6J("disabled",!t.editForm.valid)}}function Or(n,r){1&n&&(e.TgZ(0,"p"),e._uU(1,"Waiting ..."),e.qZA())}let an=(()=>{class n{constructor(t,o){this.fb=t,this.bodosValidatorService=o,this.saveBookEventEmitter=new e.vpe,this.clickCounter=0,this.saved=!1}ngOnInit(){this.checkEditForm(),this.isNew?this.fillEmptyBook():this.aBook&&this.fillForm(this.aBook)}createIsbnControl(){return this.isNew?new z("",{validators:[this.bodosValidatorService.checkIsbn],asyncValidators:[this.bodosValidatorService.asyncIsbnExistsValidator()]}):new z(null,[it.required,this.bodosValidatorService.checkIsbn])}checkEditForm(){if(!this.editForm){let t=this.createIsbnControl();this.editForm=this.fb.group({title:["",it.required],subtitle:"",isbn:t,published:[(new Date).toISOString().substring(0,10),it.required],description:"",rating:[null,[it.min(0),it.max(5)]]})}}ngOnChanges(t){this.checkEditForm();const{aBook:o}=t;o&&o.currentValue&&!this.isNew&&this.fillForm(o.currentValue)}fillEmptyBook(){const t=this.fb.array([],[this.bodosValidatorService.checkAuthors]);t.push(new z("")),this.editForm.setControl("authors",t);const o=this.fb.array([]);o.push(this.fb.group({url:"",title:""})),this.editForm.setControl("thumbnails",o)}fillForm(t){this.editForm.get("title")?.setValue(t.title),this.editForm.get("subtitle")?.setValue(t.subtitle),this.editForm.get("isbn")?.setValue(t.isbn+""),this.editForm.get("description")?.setValue(t.description);const o=t.published.toISOString().substring(0,10);console.log("published in set editForm",o),this.editForm.get("published")?.setValue(o),this.editForm.get("rating")?.setValue(t.rating);let s=this.fb.array([],[this.bodosValidatorService.checkAuthors]);for(let g of t.authors){const _=new z(g);s.push(_)}if(this.editForm.setControl("authors",s),t.thumbnails){let g=this.fb.array([]);for(let _ of t.thumbnails){const N=this.fb.group({url:_.url,title:_.title});g.push(N)}this.editForm.setControl("thumbnails",g)}}get authors(){return this.editForm.get("authors")}get isbn(){return this.editForm.get("isbn")}get thumbnails(){return this.editForm.get("thumbnails")}bookFormSaveBook(){if(this.clickCounter++,!this.editForm.valid)throw new Error("bookFormSave called although form is not valid!");this.saveBookEventEmitter.emit(_r.B.getFromRaw(this.editForm.value))}addAuthor(){const t=new z(null);this.authors.push(t)}removeAuthor(t){this.authors.removeAt(t)}addThumb(){const t=this.fb.group({});this.thumbnails.push(t)}removeThumb(t){this.thumbnails.removeAt(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(mr),e.Y36(vr))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bm-book-form"]],inputs:{aBook:"aBook",isNew:"isNew",saved:"saved",successMsg:"successMsg"},outputs:{saveBookEventEmitter:"saveBookEventEmitter"},features:[e.TTD],decls:4,vars:2,consts:[[1,"container"],[4,"ngIf","ngIfElse"],["loading",""],[3,"saved","successMsg"],[1,"form-control",3,"formGroup"],[1,"mb-14"],[1,"pb-4"],[1,"input-group"],[1,"bg-primary/30"],["id","title","type","text","formControlName","title","placeholder","Title",1,"input","input-bordered","w-full","z-0"],["controlName","title",3,"control"],[1,"input-group","pb-4"],["id","subtitle","type","text","placeholder","Subtitle","formControlName","subtitle",1,"input","input-bordered","w-full","z-0"],[1,"py-4"],[1,"input-group","py-1"],["id","isbn","type","text","formControlName","isbn","placeholder","123-123456789","required","",1,"input","input-bordered","w-full","z-0"],["controlName","isbn",3,"control"],["id","published","type","date","placeholder","Date","formControlName","published","useValueAsLocalDate","",1,"input","input-bordered","w-full","z-0"],[1,"input-group","pb-1"],["id","rating","type","number","formControlName","rating",1,"input","input-bordered","w-full","z-0"],["id","description","type","text","formControlName","description",1,"textarea","input-bordered","w-full","h-80"],[1,"flex","flex-col","w-full","border-opacity-50"],[1,"divider"],[4,"ngIf"],["controlName","authors",3,"control"],[1,"p-2"],["color","green","id","addAuthor",3,"click"],[1,""],["color","green","id","addThumb",3,"click"],["type","submit",1,"fixed","left-7","w-11/12","bottom-1","z-10","btn","btn-primary",3,"disabled","click"],["formArrayName","authors","class","",4,"ngFor","ngForOf"],["formArrayName","authors",1,""],[1,"flex","flex-row","py-2"],["type","text",1,"input","input-bordered","w-full","p-2","z-0",3,"formControlName"],["id","removeAuthor","color","red",3,"click"],["class","","formArrayName","thumbnails",4,"ngFor","ngForOf"],["formArrayName","thumbnails",1,""],[1,"",3,"formGroupName"],[1,"form-control"],[1,"flex","flex-row"],[1,"input-group","w-full","px-2"],["id","url","type","text","formControlName","url",1,"input","input-bordered","w-full"],["type","text","formControlName","title",1,"input","input-bordered","w-full"],["id","removeThumb","color","red",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,xr,47,17,"ng-container",1),e.YNc(2,Or,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const s=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.isNew||o.aBook)("ngIfElse",s)}},dependencies:[a.sg,a.O5,C.D$e,C.ax1,v,Le,dt,Ut,Ce,Ae,Mt,At,jt,Vt,Et,Cr]}),n})();function Dr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bm-notification-alert",4),e.NdJ("closeErrorEventEmitter",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeError())}),e.qZA(),e.BQk()}if(2&n){const t=r.ngIf;e.xp6(1),e.Q6J("error",t)}}function Tr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bm-notification-alert",4),e.NdJ("closeErrorEventEmitter",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.closeError())}),e.qZA(),e.BQk()}if(2&n){const t=r.ngIf;e.xp6(1),e.Q6J("error",t)}}const Fr=[{path:"list",component:M,canActivate:[cn]},{path:"detail/:isbn",component:rt,canActivate:[Jt]},{path:"detail/:isbn",redirectTo:"/error"},{path:"edit/:isbn",component:(()=>{class n{constructor(t,o){this.route=t,this.store=o,this.book$=this.store.select(c.eY),this.error$=this.store.select(c.J5),this.showSaveSuccess$=this.store.select(c.GY),this.successMsg="Book has been saved successfully"}ngOnDestroy(){this.subscriptionSuccess&&this.subscriptionSuccess.unsubscribe()}closeError(){this.store.dispatch((0,d.M4)())}saveBook(t){this.store.dispatch((0,d.s6)({bookEntity:t}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.gz),e.Y36(p.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bm-book-edit"]],decls:8,vars:11,consts:[[1,"container","m-4"],[1,"text-lg","font-bold"],[4,"ngIf"],[3,"aBook","isNew","saved","successMsg","saveBookEventEmitter"],[3,"error","closeErrorEventEmitter"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Edit existing Book:"),e.qZA(),e.YNc(3,Dr,2,1,"ng-container",2),e.ALo(4,"async"),e.TgZ(5,"bm-book-form",3),e.NdJ("saveBookEventEmitter",function(g){return o.saveBook(g)}),e.ALo(6,"async"),e.ALo(7,"async"),e.qZA()()),2&t){let s;e.xp6(3),e.Q6J("ngIf",e.lcZ(4,5,o.error$)),e.xp6(2),e.Q6J("aBook",e.lcZ(6,7,o.book$))("isNew",!1)("saved",null!==(s=e.lcZ(7,9,o.showSaveSuccess$))&&void 0!==s&&s)("successMsg",o.successMsg)}},dependencies:[a.O5,f.k,an,a.Ov]}),n})(),canActivate:[Jt]},{path:"create",component:(()=>{class n{constructor(t){this.store=t,this.showSaveSuccess$=this.store.select(c.GY),this.error$=this.store.select(c.J5),this.saved=!1,this.successMsg=""}createBookSave(t){this.store.dispatch((0,d.u1)({bookEntity:t})),this.subscriptionSuccess=this.showSaveSuccess$.subscribe(o=>{this.saved=o,this.successMsg="Book has been saved successfully"})}ngOnDestroy(){this.subscriptionSuccess&&this.subscriptionSuccess.unsubscribe()}closeError(){this.store.dispatch((0,d.M4)())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bm-create-book"]],decls:7,vars:6,consts:[[1,"container","px-8","py-8"],[1,"text-2xl","font-bold","pb-8"],[4,"ngIf"],[3,"isNew","saved","successMsg","saveBookEventEmitter"],[3,"error","closeErrorEventEmitter"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p"),e.TgZ(2,"div",1),e._uU(3,"Create new Book:"),e.qZA(),e.YNc(4,Tr,2,1,"ng-container",2),e.ALo(5,"async"),e.TgZ(6,"bm-book-form",3),e.NdJ("saveBookEventEmitter",function(g){return o.createBookSave(g)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngIf",e.lcZ(5,4,o.error$)),e.xp6(2),e.Q6J("isNew",!0)("saved",o.saved)("successMsg",o.successMsg))},dependencies:[a.O5,f.k,an,a.Ov]}),n})()},{path:"",redirectTo:"admin/create",pathMatch:"full"}];let wr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(Fr),u.Bz]}),n})();var ln=i(1331),H=i(493),Br=i(4466);let Nr=(()=>{class n{constructor(t,o){this.actions$=t,this.bs=o,this.loadBooks$=(0,H.GW)(()=>this.actions$.pipe((0,H.l4)(d.bV),(0,R.w)(()=>this.bs.getAllEntities().pipe((0,q.U)(s=>(0,d.vA)({bookEntities:s,timeStamp:Date.now()})),(0,W.K)(s=>(0,x.of)((0,d.MH)({httpError:s,timeStamp:Date.now()}))))))),this.reloadBooksAndSetCurrentBook$=(0,H.GW)(()=>this.actions$.pipe((0,H.l4)(d.u6),(0,R.w)(s=>this.bs.getAllEntities().pipe((0,q.U)(g=>{const _=g.find(N=>N.isbn==s.isbn);return(0,d.CR)({books:g,currentBookId:_?.isbn,timeStamp:Date.now()})}),(0,W.K)(g=>(0,x.of)((0,d.MH)({httpError:g,timeStamp:Date.now()}))))))),this.addBook$=(0,H.GW)(()=>this.actions$.pipe((0,H.l4)(d.u1),(0,R.w)(s=>{let g=s.bookEntity;return this.bs.postBook(g).pipe((0,q.U)(_=>(0,d.Qy)({bookEntity:g})),(0,W.K)(_=>(0,x.of)((0,d.MH)({httpError:_,timeStamp:Date.now()}))))}))),this.deleteBook$=(0,H.GW)(()=>this.actions$.pipe((0,H.l4)(d.gY),(0,R.w)(s=>{let g=s.id;return this.bs.deleteBook(g).pipe((0,q.U)(_=>(0,d.LU)({id:g})),(0,W.K)(_=>(0,x.of)((0,d.MH)({httpError:_,timeStamp:Date.now()}))))}))),this.saveCurrentBook$=(0,H.GW)(()=>this.actions$.pipe((0,H.l4)(d.s6),(0,ot.x)((s,g)=>Ot()(s,g)),(0,R.w)(s=>{let g=s.bookEntity;return this.bs.putBook(g).pipe((0,q.U)(_=>(0,d.k9)({bookEntity:g})),(0,W.K)(_=>(0,x.of)((0,d.MH)({httpError:_,timeStamp:Date.now()}))))})))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(H.eX),e.LFG(sn.T))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),kr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.ez,wr,C.zwd,C.$Xq,Br.m,p.Aw.forFeature(ln.Wg,ln.zn),H.sQ.forFeature([Nr]),nn]}),n})()},7244:(l,h,i)=>{var c=i(3436)(i(2119),"DataView");l.exports=c},4994:(l,h,i)=>{var a=i(442),u=i(6421),c=i(5764),d=i(8685),e=i(6676);function p(f){var m=-1,v=null==f?0:f.length;for(this.clear();++m<v;){var y=f[m];this.set(y[0],y[1])}}p.prototype.clear=a,p.prototype.delete=u,p.prototype.get=c,p.prototype.has=d,p.prototype.set=e,l.exports=p},9215:(l,h,i)=>{var a=i(1840),u=i(4378),c=i(4981),d=i(7343),e=i(8895);function p(f){var m=-1,v=null==f?0:f.length;for(this.clear();++m<v;){var y=f[m];this.set(y[0],y[1])}}p.prototype.clear=a,p.prototype.delete=u,p.prototype.get=c,p.prototype.has=d,p.prototype.set=e,l.exports=p},1501:(l,h,i)=>{var c=i(3436)(i(2119),"Map");l.exports=c},9850:(l,h,i)=>{var a=i(638),u=i(1184),c=i(866),d=i(3771),e=i(1772);function p(f){var m=-1,v=null==f?0:f.length;for(this.clear();++m<v;){var y=f[m];this.set(y[0],y[1])}}p.prototype.clear=a,p.prototype.delete=u,p.prototype.get=c,p.prototype.has=d,p.prototype.set=e,l.exports=p},4267:(l,h,i)=>{var c=i(3436)(i(2119),"Promise");l.exports=c},6323:(l,h,i)=>{var c=i(3436)(i(2119),"Set");l.exports=c},8849:(l,h,i)=>{var a=i(9850),u=i(4600),c=i(1387);function d(e){var p=-1,f=null==e?0:e.length;for(this.__data__=new a;++p<f;)this.add(e[p])}d.prototype.add=d.prototype.push=u,d.prototype.has=c,l.exports=d},2858:(l,h,i)=>{var a=i(9215),u=i(3720),c=i(4410),d=i(5576),e=i(2247),p=i(1585);function f(m){var v=this.__data__=new a(m);this.size=v.size}f.prototype.clear=u,f.prototype.delete=c,f.prototype.get=d,f.prototype.has=e,f.prototype.set=p,l.exports=f},443:(l,h,i)=>{var a=i(2119);l.exports=a.Symbol},3457:(l,h,i)=>{var a=i(2119);l.exports=a.Uint8Array},4243:(l,h,i)=>{var c=i(3436)(i(2119),"WeakMap");l.exports=c},9779:l=>{l.exports=function h(i,a){for(var u=-1,c=null==i?0:i.length,d=0,e=[];++u<c;){var p=i[u];a(p,u,i)&&(e[d++]=p)}return e}},2271:(l,h,i)=>{var a=i(5334),u=i(7151),c=i(1503),d=i(891),e=i(8442),p=i(8159),m=Object.prototype.hasOwnProperty;l.exports=function v(y,O){var b=c(y),T=!b&&u(y),w=!b&&!T&&d(y),k=!b&&!T&&!w&&p(y),F=b||T||w||k,S=F?a(y.length,String):[],D=S.length;for(var A in y)(O||m.call(y,A))&&(!F||!("length"==A||w&&("offset"==A||"parent"==A)||k&&("buffer"==A||"byteLength"==A||"byteOffset"==A)||e(A,D)))&&S.push(A);return S}},5059:l=>{l.exports=function h(i,a){for(var u=-1,c=a.length,d=i.length;++u<c;)i[d+u]=a[u];return i}},9503:l=>{l.exports=function h(i,a){for(var u=-1,c=null==i?0:i.length;++u<c;)if(a(i[u],u,i))return!0;return!1}},3503:(l,h,i)=>{var a=i(217);l.exports=function u(c,d){for(var e=c.length;e--;)if(a(c[e][0],d))return e;return-1}},8247:(l,h,i)=>{var a=i(5059),u=i(1503);l.exports=function c(d,e,p){var f=e(d);return u(d)?f:a(f,p(d))}},3337:(l,h,i)=>{var a=i(443),u=i(1318),c=i(2902),p=a?a.toStringTag:void 0;l.exports=function f(m){return null==m?void 0===m?"[object Undefined]":"[object Null]":p&&p in Object(m)?u(m):c(m)}},186:(l,h,i)=>{var a=i(3337),u=i(2671);l.exports=function d(e){return u(e)&&"[object Arguments]"==a(e)}},5740:(l,h,i)=>{var a=i(8325),u=i(2671);l.exports=function c(d,e,p,f,m){return d===e||(null==d||null==e||!u(d)&&!u(e)?d!=d&&e!=e:a(d,e,p,f,c,m))}},8325:(l,h,i)=>{var a=i(2858),u=i(3914),c=i(2076),d=i(2286),e=i(8794),p=i(1503),f=i(891),m=i(8159),y="[object Arguments]",O="[object Array]",b="[object Object]",w=Object.prototype.hasOwnProperty;l.exports=function k(F,S,D,A,B,M){var x=p(F),C=p(S),V=x?O:e(F),I=C?O:e(S),G=(V=V==y?b:V)==b,j=(I=I==y?b:I)==b,E=V==I;if(E&&f(F)){if(!f(S))return!1;x=!0,G=!1}if(E&&!G)return M||(M=new a),x||m(F)?u(F,S,D,A,B,M):c(F,S,V,D,A,B,M);if(!(1&D)){var $=G&&w.call(F,"__wrapped__"),Z=j&&w.call(S,"__wrapped__");if($||Z){var rt=$?F.value():F,R=Z?S.value():S;return M||(M=new a),B(rt,R,D,A,M)}}return!!E&&(M||(M=new a),d(F,S,D,A,B,M))}},7304:(l,h,i)=>{var a=i(5946),u=i(1943),c=i(5940),d=i(2827),p=/^\[object .+?Constructor\]$/,O=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");l.exports=function b(T){return!(!c(T)||u(T))&&(a(T)?O:p).test(d(T))}},1083:(l,h,i)=>{var a=i(3337),u=i(6231),c=i(2671),E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Arguments]"]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object Boolean]"]=E["[object DataView]"]=E["[object Date]"]=E["[object Error]"]=E["[object Function]"]=E["[object Map]"]=E["[object Number]"]=E["[object Object]"]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object WeakMap]"]=!1,l.exports=function $(Z){return c(Z)&&u(Z.length)&&!!E[a(Z)]}},1172:(l,h,i)=>{var a=i(5488),u=i(5491),d=Object.prototype.hasOwnProperty;l.exports=function e(p){if(!a(p))return u(p);var f=[];for(var m in Object(p))d.call(p,m)&&"constructor"!=m&&f.push(m);return f}},5334:l=>{l.exports=function h(i,a){for(var u=-1,c=Array(i);++u<i;)c[u]=a(u);return c}},5647:l=>{l.exports=function h(i){return function(a){return i(a)}}},5972:l=>{l.exports=function h(i,a){return i.has(a)}},4610:(l,h,i)=>{var a=i(2119);l.exports=a["__core-js_shared__"]},3914:(l,h,i)=>{var a=i(8849),u=i(9503),c=i(5972);l.exports=function p(f,m,v,y,O,b){var T=1&v,w=f.length,k=m.length;if(w!=k&&!(T&&k>w))return!1;var F=b.get(f),S=b.get(m);if(F&&S)return F==m&&S==f;var D=-1,A=!0,B=2&v?new a:void 0;for(b.set(f,m),b.set(m,f);++D<w;){var M=f[D],x=m[D];if(y)var C=T?y(x,M,D,m,f,b):y(M,x,D,f,m,b);if(void 0!==C){if(C)continue;A=!1;break}if(B){if(!u(m,function(V,I){if(!c(B,I)&&(M===V||O(M,V,v,y,b)))return B.push(I)})){A=!1;break}}else if(M!==x&&!O(M,x,v,y,b)){A=!1;break}}return b.delete(f),b.delete(m),A}},2076:(l,h,i)=>{var a=i(443),u=i(3457),c=i(217),d=i(3914),e=i(3205),p=i(4174),B=a?a.prototype:void 0,M=B?B.valueOf:void 0;l.exports=function x(C,V,I,G,j,E,$){switch(I){case"[object DataView]":if(C.byteLength!=V.byteLength||C.byteOffset!=V.byteOffset)return!1;C=C.buffer,V=V.buffer;case"[object ArrayBuffer]":return!(C.byteLength!=V.byteLength||!E(new u(C),new u(V)));case"[object Boolean]":case"[object Date]":case"[object Number]":return c(+C,+V);case"[object Error]":return C.name==V.name&&C.message==V.message;case"[object RegExp]":case"[object String]":return C==V+"";case"[object Map]":var Z=e;case"[object Set]":if(Z||(Z=p),C.size!=V.size&&!(1&G))return!1;var R=$.get(C);if(R)return R==V;G|=2,$.set(C,V);var ot=d(Z(C),Z(V),G,j,E,$);return $.delete(C),ot;case"[object Symbol]":if(M)return M.call(C)==M.call(V)}return!1}},2286:(l,h,i)=>{var a=i(7597),d=Object.prototype.hasOwnProperty;l.exports=function e(p,f,m,v,y,O){var b=1&m,T=a(p),w=T.length;if(w!=a(f).length&&!b)return!1;for(var S=w;S--;){var D=T[S];if(!(b?D in f:d.call(f,D)))return!1}var A=O.get(p),B=O.get(f);if(A&&B)return A==f&&B==p;var M=!0;O.set(p,f),O.set(f,p);for(var x=b;++S<w;){var C=p[D=T[S]],V=f[D];if(v)var I=b?v(V,C,D,f,p,O):v(C,V,D,p,f,O);if(!(void 0===I?C===V||y(C,V,m,v,O):I)){M=!1;break}x||(x="constructor"==D)}if(M&&!x){var G=p.constructor,j=f.constructor;G!=j&&"constructor"in p&&"constructor"in f&&!("function"==typeof G&&G instanceof G&&"function"==typeof j&&j instanceof j)&&(M=!1)}return O.delete(p),O.delete(f),M}},9122:l=>{var h="object"==typeof global&&global&&global.Object===Object&&global;l.exports=h},7597:(l,h,i)=>{var a=i(8247),u=i(9383),c=i(118);l.exports=function d(e){return a(e,c,u)}},4537:(l,h,i)=>{var a=i(3819);l.exports=function u(c,d){var e=c.__data__;return a(d)?e["string"==typeof d?"string":"hash"]:e.map}},3436:(l,h,i)=>{var a=i(7304),u=i(1990);l.exports=function c(d,e){var p=u(d,e);return a(p)?p:void 0}},1318:(l,h,i)=>{var a=i(443),u=Object.prototype,c=u.hasOwnProperty,d=u.toString,e=a?a.toStringTag:void 0;l.exports=function p(f){var m=c.call(f,e),v=f[e];try{f[e]=void 0;var y=!0}catch{}var O=d.call(f);return y&&(m?f[e]=v:delete f[e]),O}},9383:(l,h,i)=>{var a=i(9779),u=i(9975),d=Object.prototype.propertyIsEnumerable,e=Object.getOwnPropertySymbols;l.exports=e?function(f){return null==f?[]:(f=Object(f),a(e(f),function(m){return d.call(f,m)}))}:u},8794:(l,h,i)=>{var a=i(7244),u=i(1501),c=i(4267),d=i(6323),e=i(4243),p=i(3337),f=i(2827),m="[object Map]",y="[object Promise]",O="[object Set]",b="[object WeakMap]",T="[object DataView]",w=f(a),k=f(u),F=f(c),S=f(d),D=f(e),A=p;(a&&A(new a(new ArrayBuffer(1)))!=T||u&&A(new u)!=m||c&&A(c.resolve())!=y||d&&A(new d)!=O||e&&A(new e)!=b)&&(A=function(B){var M=p(B),x="[object Object]"==M?B.constructor:void 0,C=x?f(x):"";if(C)switch(C){case w:return T;case k:return m;case F:return y;case S:return O;case D:return b}return M}),l.exports=A},1990:l=>{l.exports=function h(i,a){return i?.[a]}},442:(l,h,i)=>{var a=i(862);l.exports=function u(){this.__data__=a?a(null):{},this.size=0}},6421:l=>{l.exports=function h(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}},5764:(l,h,i)=>{var a=i(862),d=Object.prototype.hasOwnProperty;l.exports=function e(p){var f=this.__data__;if(a){var m=f[p];return"__lodash_hash_undefined__"===m?void 0:m}return d.call(f,p)?f[p]:void 0}},8685:(l,h,i)=>{var a=i(862),c=Object.prototype.hasOwnProperty;l.exports=function d(e){var p=this.__data__;return a?void 0!==p[e]:c.call(p,e)}},6676:(l,h,i)=>{var a=i(862);l.exports=function c(d,e){var p=this.__data__;return this.size+=this.has(d)?0:1,p[d]=a&&void 0===e?"__lodash_hash_undefined__":e,this}},8442:l=>{var i=/^(?:0|[1-9]\d*)$/;l.exports=function a(u,c){var d=typeof u;return!!(c=c??9007199254740991)&&("number"==d||"symbol"!=d&&i.test(u))&&u>-1&&u%1==0&&u<c}},3819:l=>{l.exports=function h(i){var a=typeof i;return"string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==i:null===i}},1943:(l,h,i)=>{var d,a=i(4610),u=(d=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"";l.exports=function c(d){return!!u&&u in d}},5488:l=>{var h=Object.prototype;l.exports=function i(a){var u=a&&a.constructor;return a===("function"==typeof u&&u.prototype||h)}},1840:l=>{l.exports=function h(){this.__data__=[],this.size=0}},4378:(l,h,i)=>{var a=i(3503),c=Array.prototype.splice;l.exports=function d(e){var p=this.__data__,f=a(p,e);return!(f<0||(f==p.length-1?p.pop():c.call(p,f,1),--this.size,0))}},4981:(l,h,i)=>{var a=i(3503);l.exports=function u(c){var d=this.__data__,e=a(d,c);return e<0?void 0:d[e][1]}},7343:(l,h,i)=>{var a=i(3503);l.exports=function u(c){return a(this.__data__,c)>-1}},8895:(l,h,i)=>{var a=i(3503);l.exports=function u(c,d){var e=this.__data__,p=a(e,c);return p<0?(++this.size,e.push([c,d])):e[p][1]=d,this}},638:(l,h,i)=>{var a=i(4994),u=i(9215),c=i(1501);l.exports=function d(){this.size=0,this.__data__={hash:new a,map:new(c||u),string:new a}}},1184:(l,h,i)=>{var a=i(4537);l.exports=function u(c){var d=a(this,c).delete(c);return this.size-=d?1:0,d}},866:(l,h,i)=>{var a=i(4537);l.exports=function u(c){return a(this,c).get(c)}},3771:(l,h,i)=>{var a=i(4537);l.exports=function u(c){return a(this,c).has(c)}},1772:(l,h,i)=>{var a=i(4537);l.exports=function u(c,d){var e=a(this,c),p=e.size;return e.set(c,d),this.size+=e.size==p?0:1,this}},3205:l=>{l.exports=function h(i){var a=-1,u=Array(i.size);return i.forEach(function(c,d){u[++a]=[d,c]}),u}},862:(l,h,i)=>{var u=i(3436)(Object,"create");l.exports=u},5491:(l,h,i)=>{var u=i(9385)(Object.keys,Object);l.exports=u},3597:(l,h,i)=>{l=i.nmd(l);var a=i(9122),u=h&&!h.nodeType&&h,c=u&&l&&!l.nodeType&&l,e=c&&c.exports===u&&a.process,p=function(){try{return c&&c.require&&c.require("util").types||e&&e.binding&&e.binding("util")}catch{}}();l.exports=p},2902:l=>{var i=Object.prototype.toString;l.exports=function a(u){return i.call(u)}},9385:l=>{l.exports=function h(i,a){return function(u){return i(a(u))}}},2119:(l,h,i)=>{var a=i(9122),u="object"==typeof self&&self&&self.Object===Object&&self,c=a||u||Function("return this")();l.exports=c},4600:l=>{l.exports=function i(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this}},1387:l=>{l.exports=function h(i){return this.__data__.has(i)}},4174:l=>{l.exports=function h(i){var a=-1,u=Array(i.size);return i.forEach(function(c){u[++a]=c}),u}},3720:(l,h,i)=>{var a=i(9215);l.exports=function u(){this.__data__=new a,this.size=0}},4410:l=>{l.exports=function h(i){var a=this.__data__,u=a.delete(i);return this.size=a.size,u}},5576:l=>{l.exports=function h(i){return this.__data__.get(i)}},2247:l=>{l.exports=function h(i){return this.__data__.has(i)}},1585:(l,h,i)=>{var a=i(9215),u=i(1501),c=i(9850);l.exports=function e(p,f){var m=this.__data__;if(m instanceof a){var v=m.__data__;if(!u||v.length<199)return v.push([p,f]),this.size=++m.size,this;m=this.__data__=new c(v)}return m.set(p,f),this.size=m.size,this}},2827:l=>{var i=Function.prototype.toString;l.exports=function a(u){if(null!=u){try{return i.call(u)}catch{}try{return u+""}catch{}}return""}},217:l=>{l.exports=function h(i,a){return i===a||i!=i&&a!=a}},7151:(l,h,i)=>{var a=i(186),u=i(2671),c=Object.prototype,d=c.hasOwnProperty,e=c.propertyIsEnumerable,p=a(function(){return arguments}())?a:function(f){return u(f)&&d.call(f,"callee")&&!e.call(f,"callee")};l.exports=p},1503:l=>{l.exports=Array.isArray},6507:(l,h,i)=>{var a=i(5946),u=i(6231);l.exports=function c(d){return null!=d&&u(d.length)&&!a(d)}},891:(l,h,i)=>{l=i.nmd(l);var a=i(2119),u=i(3580),c=h&&!h.nodeType&&h,d=c&&l&&!l.nodeType&&l,p=d&&d.exports===c?a.Buffer:void 0;l.exports=(p?p.isBuffer:void 0)||u},4509:(l,h,i)=>{var a=i(5740);l.exports=function u(c,d){return a(c,d)}},5946:(l,h,i)=>{var a=i(3337),u=i(5940);l.exports=function f(m){if(!u(m))return!1;var v=a(m);return"[object Function]"==v||"[object GeneratorFunction]"==v||"[object AsyncFunction]"==v||"[object Proxy]"==v}},6231:l=>{l.exports=function i(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=9007199254740991}},5940:l=>{l.exports=function h(i){var a=typeof i;return null!=i&&("object"==a||"function"==a)}},2671:l=>{l.exports=function h(i){return null!=i&&"object"==typeof i}},8159:(l,h,i)=>{var a=i(1083),u=i(5647),c=i(3597),d=c&&c.isTypedArray,e=d?u(d):a;l.exports=e},118:(l,h,i)=>{var a=i(2271),u=i(1172),c=i(6507);l.exports=function d(e){return c(e)?a(e):u(e)}},9975:l=>{l.exports=function h(){return[]}},3580:l=>{l.exports=function h(){return!1}}}]);