(self.webpackChunkbook_monkey=self.webpackChunkbook_monkey||[]).push([[111],{7111:(r,c,e)=>{"use strict";e.r(c),e.d(c,{BooksModule:()=>At});var n=e(6895),i=e(6547),a=e(1201),l=e(651),t=e(4650),p=e(9653),d=e(4705);function g(s,f){if(1&s&&(t.TgZ(0,"div",1)(1,"div"),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA(),t.kcU(),t.TgZ(4,"span",4),t._uU(5),t.qZA()()()),2&s){const o=t.oxw();t.xp6(5),t.hij(" Book saved! ",o.successMsg,"")}}let h=(()=>{class s{constructor(o){this.store=o}set saved(o){this._saved=o,this._saved&&setTimeout(()=>{this.store.dispatch((0,l.ur)())},5e3)}get saved(){return this._saved}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(p.yh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["bm-success-alert"]],inputs:{successMsg:"successMsg",saved:"saved"},decls:1,vars:1,consts:[["class","fixed left-7 w-11/12 top-16 z-50 alert alert-info shadow-lg",4,"ngIf"],[1,"fixed","left-7","w-11/12","top-16","z-50","alert","alert-info","shadow-lg"],["data-id","closeBtn","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-current","flex-shrink-0","w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["data-id","message"]],template:function(o,u){1&o&&t.YNc(0,g,6,1,"div",0),2&o&&t.Q6J("ngIf",u.saved)},dependencies:[n.O5]}),s})(),v=(()=>{class s{constructor(){this.smallActive=!0}get elementClasses(){return{"px-10":this.smallActive,"pt-10":this.smallActive,"pb-10":this.smallActive}}smallOn(){this.smallActive=!1}smallOff(){this.smallActive=!0}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275dir=t.lG2({type:s,selectors:[["","bmZoom",""]],hostVars:2,hostBindings:function(o,u){1&o&&t.NdJ("mouseenter",function(){return u.smallOn()})("mouseleave",function(){return u.smallOff()}),2&o&&t.Tol(u.elementClasses)}}),s})(),S=(()=>{class s{transform(o,...u){if(o)return o.slice(0,3)+"-"+o.slice(3)}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275pipe=t.Yjl({name:"isbn",type:s,pure:!0}),s})();function _(s,f){1&s&&(t.TgZ(0,"span"),t._uU(1,", "),t.qZA())}function I(s,f){if(1&s&&(t.TgZ(0,"div",9),t._uU(1),t.YNc(2,_,2,0,"span",10),t.qZA()),2&s){const o=f.$implicit,u=f.last;t.xp6(1),t.hij(" ",o,""),t.xp6(1),t.Q6J("ngIf",!u)}}const w=function(s){return["/books/detail",s]};let L=(()=>{class s{constructor(){}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["bm-book-list-item"]],inputs:{book:"book"},decls:17,vars:13,consts:[[1,"container","py-4"],[1,"card","md:card-side","bg-base-100","shadow-xl"],["bmZoom","",1,"h-full","w-20","lg:object-cover","md:h-full","md:w-48","sm:h-full","sm:w-24",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"text-lg"],["class","text-xs",4,"ngFor","ngForOf"],["data-cy","isbn"],[1,"btn","btn-primary","basis-1/4","m-2",3,"routerLink"],[1,"text-xs"],[4,"ngIf"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"figure"),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"div",3)(5,"h2",4),t._uU(6),t.qZA(),t.TgZ(7,"div",5),t._uU(8),t.qZA(),t.TgZ(9,"div"),t.YNc(10,I,3,2,"div",6),t._UZ(11,"br"),t.TgZ(12,"span",7),t._uU(13),t.ALo(14,"isbn"),t.qZA(),t.TgZ(15,"button",8),t._uU(16," Details "),t.qZA()()()()()),2&o&&(t.uIk("data-cy","card-"+(null==u.book?null:u.book.isbn)),t.xp6(3),t.s9C("src",null==u.book||null==u.book.thumbnails||null==u.book.thumbnails[0]?null:u.book.thumbnails[0].url,t.LSH),t.s9C("alt",null==u.book||null==u.book.thumbnails||null==u.book.thumbnails[0]?null:u.book.thumbnails[0].title),t.xp6(2),t.uIk("data-cy","title/"+(null==u.book?null:u.book.isbn)),t.xp6(1),t.hij(" ",null==u.book?null:u.book.title," "),t.xp6(2),t.Oqu(null==u.book?null:u.book.subtitle),t.xp6(2),t.Q6J("ngForOf",null==u.book?null:u.book.authors),t.xp6(3),t.hij("ISBN: ",t.lcZ(14,9,null==u.book?null:u.book.isbn)," "),t.xp6(2),t.Q6J("routerLink",t.VKq(11,w,null==u.book?null:u.book.isbn)))},dependencies:[n.sg,n.O5,i.rH,v,S]}),s})();function Z(s,f){if(1&s){const o=t.EpF();t.ynx(0),t.TgZ(1,"bm-notification-alert",2),t.NdJ("closeErrorEventEmitter",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.closeError())}),t.qZA(),t.BQk()}if(2&s){const o=f.ngIf;t.xp6(1),t.Q6J("error",o)}}function k(s,f){if(1&s&&(t.ynx(0),t._UZ(1,"bm-success-alert",3),t.BQk()),2&s){const o=f.ngIf;t.xp6(1),t.Q6J("saved",o)("successMsg","Book has been saved successfully")}}const C=function(s){return["/books/detail",s]};function y(s,f){if(1&s&&t._UZ(0,"bm-book-list-item",5),2&s){const o=f.$implicit,u=f.index;t.Q6J("book",o)("routerLink",t.VKq(3,C,o.isbn)),t.uIk("data-id","book-item-"+u)}}function F(s,f){if(1&s&&(t.ynx(0),t.YNc(1,y,1,5,"bm-book-list-item",4),t.BQk()),2&s){const o=f.ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}let O=(()=>{class s{constructor(o,u){this.cd=o,this.store=u,this.books$=this.store.select(a.tX),this.showSaveSuccess$=this.store.select(a.GY),this.error$=this.store.select(a.J5)}ngOnInit(){this.listView=!0}closeError(){this.store.dispatch((0,l.M4)())}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(t.sBO),t.Y36(p.yh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["bm-book-list"]],decls:7,vars:9,consts:[[1,"container","px-8","py-8"],[4,"ngIf"],["data-id","error-element",3,"error","closeErrorEventEmitter"],[3,"saved","successMsg"],["class","item",3,"book","routerLink",4,"ngFor","ngForOf"],[1,"item",3,"book","routerLink"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0),t.YNc(1,Z,2,1,"ng-container",1),t.ALo(2,"async"),t.YNc(3,k,2,2,"ng-container",1),t.ALo(4,"async"),t.YNc(5,F,2,1,"ng-container",1),t.ALo(6,"async"),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,u.error$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,u.showSaveSuccess$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,u.books$)))},dependencies:[n.sg,n.O5,i.rH,d.k,h,L,n.Ov]}),s})();var E=e(9646),x=e(3530);let T=(()=>{class s{constructor(){this.visibility="hidden"}ngOnChanges(o){const{bmDelay:u}=o;setTimeout(()=>{this.visibility="visible"},u.currentValue)}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275dir=t.lG2({type:s,selectors:[["","bmDelay",""]],hostVars:2,hostBindings:function(o,u){2&o&&t.Udp("visibility",u.visibility)},inputs:{bmDelay:"bmDelay"},features:[t.TTD]}),s})();function M(s,f){if(1&s){const o=t.EpF();t.ynx(0),t.TgZ(1,"bm-notification-alert",2),t.NdJ("closeErrorEventEmitter",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.closeError())}),t.qZA(),t.BQk()}if(2&s){const o=f.ngIf;t.xp6(1),t.Q6J("error",o)}}function D(s,f){if(1&s&&(t.ynx(0),t._uU(1),t._UZ(2,"br"),t.BQk()),2&s){const o=f.$implicit;t.xp6(1),t.hij(" ",o,"")}}function j(s,f){if(1&s&&(t.ynx(0),t._UZ(1,"star-solid-icon",30),t.BQk()),2&s){const o=f.index;t.xp6(1),t.Q6J("bmDelay",1e3+500*o)}}function A(s,f){if(1&s&&(t.ynx(0),t.TgZ(1,"div",29),t.YNc(2,j,2,1,"ng-container",11),t.qZA(),t.BQk()),2&s){const o=t.oxw().ngIf;t.xp6(2),t.Q6J("ngForOf",",".repeat(o.rating-1).split(","))}}const $=function(s){return["/admin/edit",s]};function P(s,f){if(1&s){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",3)(2,"div",4)(3,"div",5),t._uU(4),t.qZA(),t.TgZ(5,"div",6),t._uU(6),t.qZA(),t._UZ(7,"div",7),t.TgZ(8,"div",8)(9,"div",9)(10,"div",6),t.SDv(11,10),t.qZA(),t.YNc(12,D,3,1,"ng-container",11),t.qZA(),t.TgZ(13,"div",12)(14,"div",6),t._uU(15,"ISBN:"),t.qZA(),t._uU(16),t.ALo(17,"isbn"),t.qZA(),t.TgZ(18,"div",13)(19,"div",14),t.SDv(20,15),t.qZA(),t._uU(21),t.ALo(22,"date"),t.qZA(),t.TgZ(23,"div",13)(24,"div",6),t.SDv(25,16),t.qZA(),t.YNc(26,A,3,1,"ng-container",1),t.qZA()(),t.TgZ(27,"div",17),t.SDv(28,18),t.qZA(),t.TgZ(29,"p"),t._uU(30),t.qZA(),t._UZ(31,"img",19)(32,"br")(33,"br"),t.qZA(),t.TgZ(34,"div",20)(35,"div",21)(36,"button",22),t._uU(37," Edit "),t.qZA(),t.TgZ(38,"button",23),t.NdJ("click",function(){const b=t.CHM(o).ngIf,B=t.oxw();return t.KtG(B.delete(b.isbn))}),t.SDv(39,24),t.qZA(),t.TgZ(40,"button",25),t.SDv(41,26),t.qZA(),t.TgZ(42,"button",27),t.SDv(43,28),t.qZA()()()(),t.BQk()}if(2&s){const o=f.ngIf;t.xp6(4),t.hij(" ",o.title," "),t.xp6(2),t.Oqu(o.subtitle),t.xp6(6),t.Q6J("ngForOf",o.authors),t.xp6(4),t.hij(" ",t.lcZ(17,10,o.isbn)," "),t.xp6(5),t.hij(" ",t.xi3(22,12,o.published,"longDate")," "),t.xp6(5),t.Q6J("ngIf",o.rating),t.xp6(4),t.Oqu(o.description),t.xp6(1),t.s9C("src",null==o.thumbnails||null==o.thumbnails[0]?null:o.thumbnails[0].url,t.LSH),t.s9C("alt",null==o.thumbnails||null==o.thumbnails[0]?null:o.thumbnails[0].title),t.xp6(5),t.Q6J("routerLink",t.VKq(15,$,o.isbn))}}let z=(()=>{class s{constructor(o,u,m){this.router=o,this.route=u,this.store=m,this.book$=this.store.select(a.eY),this.id=0,this.error$=this.store.select(a.J5),this.confirmMessage="Really delete book?"}delete(o){this.confirm(this.confirmMessage).subscribe(u=>{u&&o&&this.reallyDelete(o)})}reallyDelete(o){this.store.dispatch((0,l.gY)({id:o})),this.router.navigate(["/books/list"])}confirm(o){const u=window.confirm(o);return(0,E.of)(u)}closeError(){this.store.dispatch((0,l.M4)())}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(i.F0),t.Y36(i.gz),t.Y36(p.yh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["bm-book-details"]],decls:5,vars:6,consts:function(){let f,o,u,m,b,B,J;return f=$localize`:@@Authors:Authors:`,o=$localize`:@@published: published: `,u=$localize`:@@rating:Rating:`,m=$localize`:@@bookDescription: Description: `,b=$localize`:@@deleteButton: Delete `,B=$localize`:@@backToBookListButton: back to book list `,J=$localize`:@@next: Next `,[[1,"px-8","py-8"],[4,"ngIf"],["data-id","error-element",3,"error","closeErrorEventEmitter"],[1,"container"],[1,"mb-14"],["data-id","title",1,"text-2xl","font-bold","pb-8"],[1,"text-lg","font-bold"],[1,"divider"],[1,"flex","flex-row","flex-wrap","pb-8"],[1,"basis-1/5","pr-2","pb-2"],f,[4,"ngFor","ngForOf"],["id","isbn","data-id","isbn",1,"basis-1/4","pr-2","pb-2"],[1,"basis-1/4","pr-2","pb-2"],["id","published",1,"text-lg","font-bold"],o,u,[1,"text-lg","font-bold","pb-2"],m,[1,"h-full","w-48",3,"src","alt"],[1,"fixed","left-7","w-11/12","bottom-2","z-10"],[1,"flex","flex-row"],["id","editButton","data-cy","editBtn",1,"btn","btn-primary","basis-1/4","m-2",3,"routerLink"],["data-cy","deleteBtn",1,"btn","btn-secondary","basis-1/4","m-2",3,"click"],b,["data-cy","backToListBtn","routerLink","/books/list",1,"btn","btn-secondary","basis-1/4","m-2"],B,["data-cy","nextBtn",1,"btn","btn-secondary","basis-1/4","m-2"],J,[1,"flex","flex-wrap"],["color","goldenrod",3,"bmDelay"]]},template:function(o,u){1&o&&(t.TgZ(0,"div",0),t.YNc(1,M,2,1,"ng-container",1),t.ALo(2,"async"),t.YNc(3,P,44,17,"ng-container",1),t.ALo(4,"async"),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,u.error$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,4,u.book$)))},dependencies:[n.sg,n.O5,i.rH,x.j0F,d.k,T,n.Ov,n.uU,S],styles:["p[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),s})();var U=e(3900),H=e(1884),Y=e(8505),V=e(9300),ot=e(5698),nt=e(4509),X=e.n(nt);let rt=(()=>{class s{constructor(o,u){this.store=o,this.router=u}canActivate(o,u){return this.getFromStoreOrAPI().pipe((0,U.w)(m=>(0,E.of)(m.total>0&&!m.httpError&&!m.errorMessage||this.router.parseUrl("/error"))))}getFromStoreOrAPI(){return this.store.select(a.Vj).pipe((0,H.x)((o,u)=>X()(o,u)),(0,Y.b)(o=>{this.dispatchActions(o)}),(0,V.h)(o=>this.canWeProceed(o)),(0,ot.q)(1))}canWeProceed(o){return o.lastUpdateTS>=Date.now()-6e4||!!o.total||!!o.httpError||!!o.errorMessage}dispatchActions(o){o.lastUpdateTS<Date.now()-6e4?this.store.dispatch((0,l.bV)()):!o.total&&!o.httpError&&!o.errorMessage&&this.store.dispatch((0,l.gz)({message:"no books found from backend recently"}))}}return s.\u0275fac=function(o){return new(o||s)(t.LFG(p.yh),t.LFG(i.F0))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),W=(()=>{class s{constructor(o,u){this.store=o,this.router=u}canActivate(o,u){let b,m=o.paramMap;return null===m.get("isbn")?(0,E.of)(this.router.parseUrl("/error")):(b=m.get("isbn"),this.store.select(a.w2).pipe((0,Y.b)(B=>this.dispatchAction(B,b)),(0,V.h)(B=>this.proceedRoute(B,b)),(0,U.w)(B=>(0,E.of)(B.currentBookId==b||this.router.parseUrl("/error")))))}proceedRoute(o,u){return o.currentBookId===u||this.isNewTimeStamp(o)&&!o.allBooks.find(m=>m.isbn===u)}dispatchAction(o,u){this.isOldTimeStamp(o)&&this.store.dispatch((0,l.u6)({isbn:u})),this.isNewTimeStamp(o)&&o.currentBookId!=u&&o.allBooks.find(m=>m.isbn===u)&&this.store.dispatch((0,l.WU)({currentBookId:u})),this.isNewTimeStamp(o)&&!o.allBooks.find(m=>m.isbn===u)&&this.store.dispatch((0,l.gz)({message:"isbn number not found"}))}isNewTimeStamp(o){return!this.isOldTimeStamp(o)}isOldTimeStamp(o){return o.lastUpdateTS<Date.now()-6e4}}return s.\u0275fac=function(o){return new(o||s)(t.LFG(p.yh),t.LFG(i.F0))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var N=e(433),st=e(4312),K=e(4004),R=e(262),q=e(8126);let it=(()=>{class s{constructor(o){this.bookService=o}checkIsbn(o){return o.value?10!=o.value.length&&13!=o.value.length?{isbnLength:{valid:!1}}:null:{isbnLength:{valid:!1}}}checkAuthors(o){return o.controls.some(u=>u.value?.length>0)?null:{oneAuthor:{valid:!1}}}asyncIsbnExistsValidator(){return o=>this.bookService.getBookFast(o.value).pipe((0,K.U)(u=>u?{isbnExists:{valid:!1}}:null),(0,R.K)(()=>(0,E.of)(null)))}}return s.\u0275fac=function(o){return new(o||s)(t.LFG(q.T))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function at(s,f){if(1&s&&(t.TgZ(0,"div",2)(1,"div"),t.O4$(),t.TgZ(2,"svg",3),t._UZ(3,"path",4),t.qZA(),t.kcU(),t.TgZ(4,"span",5),t._uU(5),t.qZA()()()),2&s){const o=f.$implicit;t.xp6(5),t.Oqu(o)}}function lt(s,f){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,at,6,1,"div",1),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.errorsForControl())}}let ct=(()=>{class s{constructor(){this.control=null,this.controlName=null,this.errorstruct={title:{required:"A Title is required"},isbn:{required:"ISBN Number is required",maxlength:"not longer then 13 chars",minlength:"at least 11 chars",isbnLength:"ISBN not valid, must be 10 or 13 digits",isbnExists:"ISBN already exists"},authors:{oneAuthor:"we need at least one Author"}}}errorsForControl(){if(this.control?.errors){let o=this.control?.errors;const u=this.errorstruct[this.controlName];return Object.keys(o).map(m=>u[m])}return[]}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["bm-form-messages"]],inputs:{control:"control",controlName:"controlName"},decls:1,vars:1,consts:[[4,"ngIf"],["class","alert alert-error shadow-lg",4,"ngFor","ngForOf"],[1,"alert","alert-error","shadow-lg"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"stroke-current","flex-shrink-0","h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["data-cy","errorMsg"]],template:function(o,u){1&o&&t.YNc(0,lt,2,1,"div",0),2&o&&t.Q6J("ngIf",(null==u.control?null:u.control.invalid)&&((null==u.control?null:u.control.dirty)||(null==u.control?null:u.control.touched)))},dependencies:[n.sg,n.O5]}),s})();function ut(s,f){if(1&s){const o=t.EpF();t.TgZ(0,"div",31)(1,"div",32),t._UZ(2,"input",33),t.TgZ(3,"div",25)(4,"minus-circle-solid-icon",34),t.NdJ("click",function(){const b=t.CHM(o).index,B=t.oxw(3);return t.KtG(B.removeAuthor(b))}),t.qZA()()()()}if(2&s){const o=f.index;t.xp6(2),t.Q6J("formControlName",o),t.uIk("data-cy","author/"+o)}}function pt(s,f){if(1&s&&(t.ynx(0),t.YNc(1,ut,5,2,"div",30),t.BQk()),2&s){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.authors.controls)}}function dt(s,f){if(1&s){const o=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"label",40)(5,"span",8),t._uU(6,"URL: "),t.qZA(),t._UZ(7,"input",41),t.qZA(),t.TgZ(8,"label",7)(9,"span",8),t._uU(10,"Name:"),t.qZA(),t._UZ(11,"input",42),t.qZA(),t.TgZ(12,"div",25)(13,"minus-circle-solid-icon",43),t.NdJ("click",function(){const b=t.CHM(o).index,B=t.oxw(3);return t.KtG(B.removeThumb(b))}),t.qZA()()()()()()}if(2&s){const o=f.index;t.xp6(1),t.Q6J("formGroupName",o)}}function ft(s,f){if(1&s&&(t.ynx(0),t.YNc(1,dt,14,1,"div",35),t.BQk()),2&s){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==o.thumbnails?null:o.thumbnails.controls)}}function gt(s,f){if(1&s){const o=t.EpF();t.ynx(0),t._UZ(1,"bm-success-alert",3),t.TgZ(2,"form",4)(3,"div",5)(4,"div",6)(5,"label",7)(6,"span",8),t._uU(7,"Title"),t.qZA(),t._UZ(8,"input",9),t.qZA()(),t._UZ(9,"bm-form-messages",10),t.TgZ(10,"label",11)(11,"span",8),t._uU(12,"Subtitle: "),t.qZA(),t._UZ(13,"input",12),t.qZA(),t.TgZ(14,"div",13)(15,"label",14)(16,"span",8),t._uU(17,"ISBN: "),t.qZA(),t._UZ(18,"input",15),t.qZA(),t._UZ(19,"bm-form-messages",16),t.qZA(),t.TgZ(20,"label",11)(21,"span",8),t._uU(22,"Published: "),t.qZA(),t._UZ(23,"input",17),t.qZA(),t.TgZ(24,"label",18)(25,"span",8),t._uU(26,"Rating: "),t.qZA(),t._UZ(27,"input",19),t.qZA(),t.TgZ(28,"label",11)(29,"span",8),t._uU(30,"Description: "),t.qZA(),t._UZ(31,"textarea",20),t.qZA(),t.TgZ(32,"div",21)(33,"div",22),t._uU(34,"Authors:"),t.qZA(),t.YNc(35,pt,2,1,"ng-container",23),t._UZ(36,"bm-form-messages",24),t.TgZ(37,"div",25)(38,"plus-circle-solid-icon",26),t.NdJ("click",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.addAuthor())}),t.qZA()()(),t.TgZ(39,"div",27)(40,"div",22),t._uU(41,"Thumbs:"),t.qZA(),t.YNc(42,ft,2,1,"ng-container",23),t.TgZ(43,"div",25)(44,"plus-circle-solid-icon",28),t.NdJ("click",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.addThumb())}),t.qZA()()()(),t.TgZ(45,"button",29),t.NdJ("click",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.bookFormSaveBook())}),t._uU(46," Save! "),t.qZA()(),t.BQk()}if(2&s){const o=t.oxw();let u,m;t.xp6(1),t.Q6J("saved",o.saved)("successMsg",o.successMsg),t.xp6(1),t.Q6J("formGroup",o.editForm),t.xp6(7),t.Q6J("control",o.editForm.get("title")),t.xp6(7),t.ekj("bg-error",(null==(u=o.editForm.get("isbn"))?null:u.invalid)&&((null==(u=o.editForm.get("isbn"))?null:u.dirty)||(null==(u=o.editForm.get("isbn"))?null:u.touched))),t.xp6(2),t.ekj("input-error",(null==(m=o.editForm.get("isbn"))?null:m.invalid)&&((null==(m=o.editForm.get("isbn"))?null:m.dirty)||(null==(m=o.editForm.get("isbn"))?null:m.touched))),t.xp6(1),t.Q6J("control",o.editForm.get("isbn")),t.xp6(16),t.Q6J("ngIf",null==o.authors?null:o.authors.controls),t.xp6(1),t.Q6J("control",o.editForm.get("authors")),t.xp6(6),t.Q6J("ngIf",null==o.thumbnails?null:o.thumbnails.controls),t.xp6(3),t.ekj("disabled",o.editForm.invalid)("primary",!o.editForm.invalid),t.Q6J("disabled",!o.editForm.valid)}}function mt(s,f){1&s&&(t.TgZ(0,"p"),t._uU(1,"Waiting ..."),t.qZA())}let tt=(()=>{class s{constructor(o,u){this.fb=o,this.bodosValidatorService=u,this.successMsg="Book has been saved successfully",this.saveBookEventEmitter=new t.vpe}ngOnInit(){this.checkEditForm(),this.isNew?this.fillEmptyBook():this.aBook&&this.fillForm(this.aBook)}createIsbnControl(){return this.isNew?new N.NI("",{validators:[this.bodosValidatorService.checkIsbn],asyncValidators:[this.bodosValidatorService.asyncIsbnExistsValidator()]}):new N.NI(null,[N.kI.required,this.bodosValidatorService.checkIsbn])}checkEditForm(){let o=this.createIsbnControl();this.editForm=this.fb.group({title:["",N.kI.required],subtitle:"",isbn:o,published:[(new Date).toISOString().substring(0,10),N.kI.required],description:"",rating:[null,[N.kI.min(0),N.kI.max(5)]]})}ngOnChanges(o){this.checkEditForm();const{aBook:u}=o;u&&u.currentValue&&!this.isNew&&this.fillForm(u.currentValue)}fillEmptyBook(){const o=this.fb.array([],[this.bodosValidatorService.checkAuthors]);o.push(new N.NI("")),this.editForm.setControl("authors",o);const u=this.fb.array([]);u.push(this.fb.group({url:"",title:""})),this.editForm.setControl("thumbnails",u)}fillForm(o){this.editForm.get("title")?.setValue(o.title),this.editForm.get("subtitle")?.setValue(o.subtitle),this.editForm.get("isbn")?.setValue(o.isbn+""),this.editForm.get("description")?.setValue(o.description);const u=o.published.toISOString().substring(0,10);this.editForm.get("published")?.setValue(u),this.editForm.get("rating")?.setValue(o.rating);let m=this.fb.array([],[this.bodosValidatorService.checkAuthors]);for(let b of o.authors){const B=new N.NI(b);m.push(B)}if(this.editForm.setControl("authors",m),o.thumbnails){let b=this.fb.array([]);for(let B of o.thumbnails){const J=this.fb.group({url:B.url,title:B.title});b.push(J)}this.editForm.setControl("thumbnails",b)}}get authors(){return this.editForm.get("authors")}get isbn(){return this.editForm.get("isbn")}get thumbnails(){return this.editForm.get("thumbnails")}bookFormSaveBook(){if(!this.editForm.valid)throw new Error("bookFormSave called although form is not valid!");this.saveBookEventEmitter.emit(st.B.getFromRaw(this.editForm.value))}addAuthor(){const o=new N.NI(null);this.authors.push(o)}removeAuthor(o){this.authors.removeAt(o)}addThumb(){const o=this.fb.group({});this.thumbnails.push(o)}removeThumb(o){this.thumbnails.removeAt(o)}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(N.qu),t.Y36(it))},s.\u0275cmp=t.Xpm({type:s,selectors:[["bm-book-form"]],inputs:{aBook:"aBook",isNew:"isNew",saved:"saved"},outputs:{saveBookEventEmitter:"saveBookEventEmitter"},features:[t.TTD],decls:4,vars:2,consts:[[1,"container"],[4,"ngIf","ngIfElse"],["loading",""],[3,"saved","successMsg"],[1,"form-control",3,"formGroup"],[1,"mb-14"],[1,"pb-4"],[1,"input-group"],[1,"bg-primary/30"],["id","title","type","text","formControlName","title","placeholder","Title",1,"input","input-bordered","w-full","z-0"],["controlName","title",3,"control"],[1,"input-group","pb-4"],["id","subtitle","type","text","placeholder","Subtitle","formControlName","subtitle",1,"input","input-bordered","w-full","z-0"],[1,"py-4"],[1,"input-group","py-1"],["id","isbn","type","text","formControlName","isbn","placeholder","123-123456789","required","",1,"input","input-bordered","w-full","z-0"],["controlName","isbn",3,"control"],["id","published","type","date","placeholder","Date","formControlName","published","useValueAsLocalDate","",1,"input","input-bordered","w-full","z-0"],[1,"input-group","pb-1"],["id","rating","type","number","formControlName","rating",1,"input","input-bordered","w-full","z-0"],["id","description","type","text","formControlName","description",1,"textarea","input-bordered","w-full","h-80"],[1,"flex","flex-col","w-full","border-opacity-50"],[1,"divider"],[4,"ngIf"],["controlName","authors",3,"control"],[1,"p-2"],["color","green","id","addAuthor",3,"click"],[1,""],["color","green","id","addThumb",3,"click"],["type","submit",1,"fixed","left-7","w-11/12","bottom-1","z-10","btn","btn-primary",3,"disabled","click"],["formArrayName","authors","class","",4,"ngFor","ngForOf"],["formArrayName","authors",1,""],[1,"flex","flex-row","py-2"],["type","text",1,"input","input-bordered","w-full","p-2","z-0",3,"formControlName"],["id","removeAuthor","color","red",3,"click"],["class","","formArrayName","thumbnails",4,"ngFor","ngForOf"],["formArrayName","thumbnails",1,""],[1,"",3,"formGroupName"],[1,"form-control"],[1,"flex","flex-row"],[1,"input-group","w-full","px-2"],["id","url","type","text","formControlName","url",1,"input","input-bordered","w-full"],["type","text","formControlName","title",1,"input","input-bordered","w-full"],["id","removeThumb","color","red",3,"click"]],template:function(o,u){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,gt,47,17,"ng-container",1),t.YNc(2,mt,2,0,"ng-template",null,2,t.W1O),t.qZA()),2&o){const m=t.MAs(3);t.xp6(1),t.Q6J("ngIf",u.isNew||u.aBook)("ngIfElse",m)}},dependencies:[n.sg,n.O5,x.D$e,x.ax1,h,N._Y,N.Fj,N.wV,N.JJ,N.JL,N.Q7,N.sg,N.u,N.x0,N.CE,ct]}),s})();function ht(s,f){if(1&s){const o=t.EpF();t.ynx(0),t.TgZ(1,"bm-notification-alert",4),t.NdJ("closeErrorEventEmitter",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.closeError())}),t.qZA(),t.BQk()}if(2&s){const o=f.ngIf;t.xp6(1),t.Q6J("error",o)}}function bt(s,f){if(1&s){const o=t.EpF();t.ynx(0),t.TgZ(1,"bm-notification-alert",4),t.NdJ("closeErrorEventEmitter",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.closeError())}),t.qZA(),t.BQk()}if(2&s){const o=f.ngIf;t.xp6(1),t.Q6J("error",o)}}const _t=[{path:"list",component:O,canActivate:[rt]},{path:"detail/:isbn",component:z,canActivate:[W]},{path:"detail/:isbn",redirectTo:"/error"},{path:"edit/:isbn",component:(()=>{class s{constructor(o){this.store=o,this.book$=this.store.select(a.eY),this.error$=this.store.select(a.J5),this.showSaveSuccess$=this.store.select(a.GY)}closeError(){this.store.dispatch((0,l.M4)())}saveBook(o){this.store.dispatch((0,l.s6)({bookEntity:o}))}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(p.yh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["bm-book-edit"]],decls:8,vars:10,consts:[[1,"container","m-4"],[1,"text-lg","font-bold"],[4,"ngIf"],[3,"aBook","isNew","saved","saveBookEventEmitter"],[3,"error","closeErrorEventEmitter"]],template:function(o,u){if(1&o&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2,"Edit existing Book:"),t.qZA(),t.YNc(3,ht,2,1,"ng-container",2),t.ALo(4,"async"),t.TgZ(5,"bm-book-form",3),t.NdJ("saveBookEventEmitter",function(b){return u.saveBook(b)}),t.ALo(6,"async"),t.ALo(7,"async"),t.qZA()()),2&o){let m;t.xp6(3),t.Q6J("ngIf",t.lcZ(4,4,u.error$)),t.xp6(2),t.Q6J("aBook",t.lcZ(6,6,u.book$))("isNew",!1)("saved",null!==(m=t.lcZ(7,8,u.showSaveSuccess$))&&void 0!==m&&m)}},dependencies:[n.O5,d.k,tt,n.Ov]}),s})(),canActivate:[W]},{path:"create",component:(()=>{class s{constructor(o){this.store=o,this.showSaveSuccess$=this.store.select(a.GY),this.error$=this.store.select(a.J5)}createBookSave(o){this.store.dispatch((0,l.u1)({bookEntity:o}))}closeError(){this.store.dispatch((0,l.M4)())}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(p.yh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["bm-create-book"]],decls:8,vars:7,consts:[[1,"container","px-8","py-8"],[1,"text-2xl","font-bold","pb-8"],[4,"ngIf"],[3,"isNew","saved","saveBookEventEmitter"],[3,"error","closeErrorEventEmitter"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"p"),t.TgZ(2,"div",1),t._uU(3,"Create new Book:"),t.qZA(),t.YNc(4,bt,2,1,"ng-container",2),t.ALo(5,"async"),t.TgZ(6,"bm-book-form",3),t.NdJ("saveBookEventEmitter",function(b){return u.createBookSave(b)}),t.ALo(7,"async"),t.qZA()()),2&o&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,3,u.error$)),t.xp6(2),t.Q6J("isNew",!0)("saved",t.lcZ(7,5,u.showSaveSuccess$)))},dependencies:[n.O5,d.k,tt,n.Ov]}),s})()},{path:"",redirectTo:"admin/create",pathMatch:"full"}];let xt=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[i.Bz.forChild(_t),i.Bz]}),s})();var et=e(1331),G=e(493),yt=e(4466);let Tt=(()=>{class s{constructor(o,u){this.actions$=o,this.bs=u,this.loadBooks$=(0,G.GW)(()=>this.actions$.pipe((0,G.l4)(l.bV),(0,U.w)(()=>this.bs.getAllEntities().pipe((0,K.U)(m=>(0,l.vA)({bookEntities:m,timeStamp:Date.now()})),(0,R.K)(m=>(0,E.of)((0,l.MH)({httpError:m,timeStamp:Date.now()}))))))),this.reloadBooksAndSetCurrentBook$=(0,G.GW)(()=>this.actions$.pipe((0,G.l4)(l.u6),(0,U.w)(m=>this.bs.getAllEntities().pipe((0,K.U)(b=>{const B=b.find(J=>J.isbn==m.isbn);return(0,l.CR)({books:b,currentBookId:B?.isbn,timeStamp:Date.now()})}),(0,R.K)(b=>(0,E.of)((0,l.MH)({httpError:b,timeStamp:Date.now()}))))))),this.addBook$=(0,G.GW)(()=>this.actions$.pipe((0,G.l4)(l.u1),(0,U.w)(m=>{let b=m.bookEntity;return this.bs.postBook(b).pipe((0,K.U)(B=>(0,l.Qy)({bookEntity:b})),(0,R.K)(B=>(0,E.of)((0,l.MH)({httpError:B,timeStamp:Date.now()}))))}))),this.deleteBook$=(0,G.GW)(()=>this.actions$.pipe((0,G.l4)(l.gY),(0,U.w)(m=>{let b=m.id;return this.bs.deleteBook(b).pipe((0,K.U)(B=>(0,l.LU)({id:b})),(0,R.K)(B=>(0,E.of)((0,l.MH)({httpError:B,timeStamp:Date.now()}))))}))),this.saveCurrentBook$=(0,G.GW)(()=>this.actions$.pipe((0,G.l4)(l.s6),(0,H.x)((m,b)=>X()(m,b)),(0,U.w)(m=>{let b=m.bookEntity;return this.bs.putBook(b).pipe((0,K.U)(B=>(0,l.k9)({bookEntity:b})),(0,R.K)(B=>(0,E.of)((0,l.MH)({httpError:B,timeStamp:Date.now()}))))})))}}return s.\u0275fac=function(o){return new(o||s)(t.LFG(G.eX),t.LFG(q.T))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})(),At=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[n.ez,xt,x.zwd,x.$Xq,yt.m,p.Aw.forFeature(et.Wg,et.zn),G.sQ.forFeature([Tt]),N.UX]}),s})()},7244:(r,c,e)=>{var a=e(3436)(e(2119),"DataView");r.exports=a},4994:(r,c,e)=>{var n=e(442),i=e(6421),a=e(5764),l=e(8685),t=e(6676);function p(d){var g=-1,h=null==d?0:d.length;for(this.clear();++g<h;){var v=d[g];this.set(v[0],v[1])}}p.prototype.clear=n,p.prototype.delete=i,p.prototype.get=a,p.prototype.has=l,p.prototype.set=t,r.exports=p},9215:(r,c,e)=>{var n=e(1840),i=e(4378),a=e(4981),l=e(7343),t=e(8895);function p(d){var g=-1,h=null==d?0:d.length;for(this.clear();++g<h;){var v=d[g];this.set(v[0],v[1])}}p.prototype.clear=n,p.prototype.delete=i,p.prototype.get=a,p.prototype.has=l,p.prototype.set=t,r.exports=p},1501:(r,c,e)=>{var a=e(3436)(e(2119),"Map");r.exports=a},9850:(r,c,e)=>{var n=e(638),i=e(1184),a=e(866),l=e(3771),t=e(1772);function p(d){var g=-1,h=null==d?0:d.length;for(this.clear();++g<h;){var v=d[g];this.set(v[0],v[1])}}p.prototype.clear=n,p.prototype.delete=i,p.prototype.get=a,p.prototype.has=l,p.prototype.set=t,r.exports=p},4267:(r,c,e)=>{var a=e(3436)(e(2119),"Promise");r.exports=a},6323:(r,c,e)=>{var a=e(3436)(e(2119),"Set");r.exports=a},8849:(r,c,e)=>{var n=e(9850),i=e(4600),a=e(1387);function l(t){var p=-1,d=null==t?0:t.length;for(this.__data__=new n;++p<d;)this.add(t[p])}l.prototype.add=l.prototype.push=i,l.prototype.has=a,r.exports=l},2858:(r,c,e)=>{var n=e(9215),i=e(3720),a=e(4410),l=e(5576),t=e(2247),p=e(1585);function d(g){var h=this.__data__=new n(g);this.size=h.size}d.prototype.clear=i,d.prototype.delete=a,d.prototype.get=l,d.prototype.has=t,d.prototype.set=p,r.exports=d},443:(r,c,e)=>{var n=e(2119);r.exports=n.Symbol},3457:(r,c,e)=>{var n=e(2119);r.exports=n.Uint8Array},4243:(r,c,e)=>{var a=e(3436)(e(2119),"WeakMap");r.exports=a},9779:r=>{r.exports=function c(e,n){for(var i=-1,a=null==e?0:e.length,l=0,t=[];++i<a;){var p=e[i];n(p,i,e)&&(t[l++]=p)}return t}},2271:(r,c,e)=>{var n=e(5334),i=e(7151),a=e(1503),l=e(891),t=e(8442),p=e(8159),g=Object.prototype.hasOwnProperty;r.exports=function h(v,S){var _=a(v),I=!_&&i(v),w=!_&&!I&&l(v),L=!_&&!I&&!w&&p(v),Z=_||I||w||L,k=Z?n(v.length,String):[],C=k.length;for(var y in v)(S||g.call(v,y))&&(!Z||!("length"==y||w&&("offset"==y||"parent"==y)||L&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||t(y,C)))&&k.push(y);return k}},5059:r=>{r.exports=function c(e,n){for(var i=-1,a=n.length,l=e.length;++i<a;)e[l+i]=n[i];return e}},9503:r=>{r.exports=function c(e,n){for(var i=-1,a=null==e?0:e.length;++i<a;)if(n(e[i],i,e))return!0;return!1}},3503:(r,c,e)=>{var n=e(217);r.exports=function i(a,l){for(var t=a.length;t--;)if(n(a[t][0],l))return t;return-1}},8247:(r,c,e)=>{var n=e(5059),i=e(1503);r.exports=function a(l,t,p){var d=t(l);return i(l)?d:n(d,p(l))}},3337:(r,c,e)=>{var n=e(443),i=e(1318),a=e(2902),p=n?n.toStringTag:void 0;r.exports=function d(g){return null==g?void 0===g?"[object Undefined]":"[object Null]":p&&p in Object(g)?i(g):a(g)}},186:(r,c,e)=>{var n=e(3337),i=e(2671);r.exports=function l(t){return i(t)&&"[object Arguments]"==n(t)}},5740:(r,c,e)=>{var n=e(8325),i=e(2671);r.exports=function a(l,t,p,d,g){return l===t||(null==l||null==t||!i(l)&&!i(t)?l!=l&&t!=t:n(l,t,p,d,a,g))}},8325:(r,c,e)=>{var n=e(2858),i=e(3914),a=e(2076),l=e(2286),t=e(8794),p=e(1503),d=e(891),g=e(8159),v="[object Arguments]",S="[object Array]",_="[object Object]",w=Object.prototype.hasOwnProperty;r.exports=function L(Z,k,C,y,F,O){var E=p(Z),x=p(k),T=E?S:t(Z),M=x?S:t(k),D=(T=T==v?_:T)==_,j=(M=M==v?_:M)==_,A=T==M;if(A&&d(Z)){if(!d(k))return!1;E=!0,D=!1}if(A&&!D)return O||(O=new n),E||g(Z)?i(Z,k,C,y,F,O):a(Z,k,T,C,y,F,O);if(!(1&C)){var $=D&&w.call(Z,"__wrapped__"),P=j&&w.call(k,"__wrapped__");if($||P){var z=$?Z.value():Z,U=P?k.value():k;return O||(O=new n),F(z,U,C,y,O)}}return!!A&&(O||(O=new n),l(Z,k,C,y,F,O))}},7304:(r,c,e)=>{var n=e(5946),i=e(1943),a=e(5940),l=e(2827),p=/^\[object .+?Constructor\]$/,S=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");r.exports=function _(I){return!(!a(I)||i(I))&&(n(I)?S:p).test(l(I))}},1083:(r,c,e)=>{var n=e(3337),i=e(6231),a=e(2671),A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Arguments]"]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object Boolean]"]=A["[object DataView]"]=A["[object Date]"]=A["[object Error]"]=A["[object Function]"]=A["[object Map]"]=A["[object Number]"]=A["[object Object]"]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object WeakMap]"]=!1,r.exports=function $(P){return a(P)&&i(P.length)&&!!A[n(P)]}},1172:(r,c,e)=>{var n=e(5488),i=e(5491),l=Object.prototype.hasOwnProperty;r.exports=function t(p){if(!n(p))return i(p);var d=[];for(var g in Object(p))l.call(p,g)&&"constructor"!=g&&d.push(g);return d}},5334:r=>{r.exports=function c(e,n){for(var i=-1,a=Array(e);++i<e;)a[i]=n(i);return a}},5647:r=>{r.exports=function c(e){return function(n){return e(n)}}},5972:r=>{r.exports=function c(e,n){return e.has(n)}},4610:(r,c,e)=>{var n=e(2119);r.exports=n["__core-js_shared__"]},3914:(r,c,e)=>{var n=e(8849),i=e(9503),a=e(5972);r.exports=function p(d,g,h,v,S,_){var I=1&h,w=d.length,L=g.length;if(w!=L&&!(I&&L>w))return!1;var Z=_.get(d),k=_.get(g);if(Z&&k)return Z==g&&k==d;var C=-1,y=!0,F=2&h?new n:void 0;for(_.set(d,g),_.set(g,d);++C<w;){var O=d[C],E=g[C];if(v)var x=I?v(E,O,C,g,d,_):v(O,E,C,d,g,_);if(void 0!==x){if(x)continue;y=!1;break}if(F){if(!i(g,function(T,M){if(!a(F,M)&&(O===T||S(O,T,h,v,_)))return F.push(M)})){y=!1;break}}else if(O!==E&&!S(O,E,h,v,_)){y=!1;break}}return _.delete(d),_.delete(g),y}},2076:(r,c,e)=>{var n=e(443),i=e(3457),a=e(217),l=e(3914),t=e(3205),p=e(4174),F=n?n.prototype:void 0,O=F?F.valueOf:void 0;r.exports=function E(x,T,M,D,j,A,$){switch(M){case"[object DataView]":if(x.byteLength!=T.byteLength||x.byteOffset!=T.byteOffset)return!1;x=x.buffer,T=T.buffer;case"[object ArrayBuffer]":return!(x.byteLength!=T.byteLength||!A(new i(x),new i(T)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+x,+T);case"[object Error]":return x.name==T.name&&x.message==T.message;case"[object RegExp]":case"[object String]":return x==T+"";case"[object Map]":var P=t;case"[object Set]":if(P||(P=p),x.size!=T.size&&!(1&D))return!1;var U=$.get(x);if(U)return U==T;D|=2,$.set(x,T);var H=l(P(x),P(T),D,j,A,$);return $.delete(x),H;case"[object Symbol]":if(O)return O.call(x)==O.call(T)}return!1}},2286:(r,c,e)=>{var n=e(7597),l=Object.prototype.hasOwnProperty;r.exports=function t(p,d,g,h,v,S){var _=1&g,I=n(p),w=I.length;if(w!=n(d).length&&!_)return!1;for(var k=w;k--;){var C=I[k];if(!(_?C in d:l.call(d,C)))return!1}var y=S.get(p),F=S.get(d);if(y&&F)return y==d&&F==p;var O=!0;S.set(p,d),S.set(d,p);for(var E=_;++k<w;){var x=p[C=I[k]],T=d[C];if(h)var M=_?h(T,x,C,d,p,S):h(x,T,C,p,d,S);if(!(void 0===M?x===T||v(x,T,g,h,S):M)){O=!1;break}E||(E="constructor"==C)}if(O&&!E){var D=p.constructor,j=d.constructor;D!=j&&"constructor"in p&&"constructor"in d&&!("function"==typeof D&&D instanceof D&&"function"==typeof j&&j instanceof j)&&(O=!1)}return S.delete(p),S.delete(d),O}},9122:r=>{var c="object"==typeof global&&global&&global.Object===Object&&global;r.exports=c},7597:(r,c,e)=>{var n=e(8247),i=e(9383),a=e(118);r.exports=function l(t){return n(t,a,i)}},4537:(r,c,e)=>{var n=e(3819);r.exports=function i(a,l){var t=a.__data__;return n(l)?t["string"==typeof l?"string":"hash"]:t.map}},3436:(r,c,e)=>{var n=e(7304),i=e(1990);r.exports=function a(l,t){var p=i(l,t);return n(p)?p:void 0}},1318:(r,c,e)=>{var n=e(443),i=Object.prototype,a=i.hasOwnProperty,l=i.toString,t=n?n.toStringTag:void 0;r.exports=function p(d){var g=a.call(d,t),h=d[t];try{d[t]=void 0;var v=!0}catch{}var S=l.call(d);return v&&(g?d[t]=h:delete d[t]),S}},9383:(r,c,e)=>{var n=e(9779),i=e(9975),l=Object.prototype.propertyIsEnumerable,t=Object.getOwnPropertySymbols;r.exports=t?function(d){return null==d?[]:(d=Object(d),n(t(d),function(g){return l.call(d,g)}))}:i},8794:(r,c,e)=>{var n=e(7244),i=e(1501),a=e(4267),l=e(6323),t=e(4243),p=e(3337),d=e(2827),g="[object Map]",v="[object Promise]",S="[object Set]",_="[object WeakMap]",I="[object DataView]",w=d(n),L=d(i),Z=d(a),k=d(l),C=d(t),y=p;(n&&y(new n(new ArrayBuffer(1)))!=I||i&&y(new i)!=g||a&&y(a.resolve())!=v||l&&y(new l)!=S||t&&y(new t)!=_)&&(y=function(F){var O=p(F),E="[object Object]"==O?F.constructor:void 0,x=E?d(E):"";if(x)switch(x){case w:return I;case L:return g;case Z:return v;case k:return S;case C:return _}return O}),r.exports=y},1990:r=>{r.exports=function c(e,n){return e?.[n]}},442:(r,c,e)=>{var n=e(862);r.exports=function i(){this.__data__=n?n(null):{},this.size=0}},6421:r=>{r.exports=function c(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}},5764:(r,c,e)=>{var n=e(862),l=Object.prototype.hasOwnProperty;r.exports=function t(p){var d=this.__data__;if(n){var g=d[p];return"__lodash_hash_undefined__"===g?void 0:g}return l.call(d,p)?d[p]:void 0}},8685:(r,c,e)=>{var n=e(862),a=Object.prototype.hasOwnProperty;r.exports=function l(t){var p=this.__data__;return n?void 0!==p[t]:a.call(p,t)}},6676:(r,c,e)=>{var n=e(862);r.exports=function a(l,t){var p=this.__data__;return this.size+=this.has(l)?0:1,p[l]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},8442:r=>{var e=/^(?:0|[1-9]\d*)$/;r.exports=function n(i,a){var l=typeof i;return!!(a=a??9007199254740991)&&("number"==l||"symbol"!=l&&e.test(i))&&i>-1&&i%1==0&&i<a}},3819:r=>{r.exports=function c(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}},1943:(r,c,e)=>{var l,n=e(4610),i=(l=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";r.exports=function a(l){return!!i&&i in l}},5488:r=>{var c=Object.prototype;r.exports=function e(n){var i=n&&n.constructor;return n===("function"==typeof i&&i.prototype||c)}},1840:r=>{r.exports=function c(){this.__data__=[],this.size=0}},4378:(r,c,e)=>{var n=e(3503),a=Array.prototype.splice;r.exports=function l(t){var p=this.__data__,d=n(p,t);return!(d<0||(d==p.length-1?p.pop():a.call(p,d,1),--this.size,0))}},4981:(r,c,e)=>{var n=e(3503);r.exports=function i(a){var l=this.__data__,t=n(l,a);return t<0?void 0:l[t][1]}},7343:(r,c,e)=>{var n=e(3503);r.exports=function i(a){return n(this.__data__,a)>-1}},8895:(r,c,e)=>{var n=e(3503);r.exports=function i(a,l){var t=this.__data__,p=n(t,a);return p<0?(++this.size,t.push([a,l])):t[p][1]=l,this}},638:(r,c,e)=>{var n=e(4994),i=e(9215),a=e(1501);r.exports=function l(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},1184:(r,c,e)=>{var n=e(4537);r.exports=function i(a){var l=n(this,a).delete(a);return this.size-=l?1:0,l}},866:(r,c,e)=>{var n=e(4537);r.exports=function i(a){return n(this,a).get(a)}},3771:(r,c,e)=>{var n=e(4537);r.exports=function i(a){return n(this,a).has(a)}},1772:(r,c,e)=>{var n=e(4537);r.exports=function i(a,l){var t=n(this,a),p=t.size;return t.set(a,l),this.size+=t.size==p?0:1,this}},3205:r=>{r.exports=function c(e){var n=-1,i=Array(e.size);return e.forEach(function(a,l){i[++n]=[l,a]}),i}},862:(r,c,e)=>{var i=e(3436)(Object,"create");r.exports=i},5491:(r,c,e)=>{var i=e(9385)(Object.keys,Object);r.exports=i},3597:(r,c,e)=>{r=e.nmd(r);var n=e(9122),i=c&&!c.nodeType&&c,a=i&&r&&!r.nodeType&&r,t=a&&a.exports===i&&n.process,p=function(){try{return a&&a.require&&a.require("util").types||t&&t.binding&&t.binding("util")}catch{}}();r.exports=p},2902:r=>{var e=Object.prototype.toString;r.exports=function n(i){return e.call(i)}},9385:r=>{r.exports=function c(e,n){return function(i){return e(n(i))}}},2119:(r,c,e)=>{var n=e(9122),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();r.exports=a},4600:r=>{r.exports=function e(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},1387:r=>{r.exports=function c(e){return this.__data__.has(e)}},4174:r=>{r.exports=function c(e){var n=-1,i=Array(e.size);return e.forEach(function(a){i[++n]=a}),i}},3720:(r,c,e)=>{var n=e(9215);r.exports=function i(){this.__data__=new n,this.size=0}},4410:r=>{r.exports=function c(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}},5576:r=>{r.exports=function c(e){return this.__data__.get(e)}},2247:r=>{r.exports=function c(e){return this.__data__.has(e)}},1585:(r,c,e)=>{var n=e(9215),i=e(1501),a=e(9850);r.exports=function t(p,d){var g=this.__data__;if(g instanceof n){var h=g.__data__;if(!i||h.length<199)return h.push([p,d]),this.size=++g.size,this;g=this.__data__=new a(h)}return g.set(p,d),this.size=g.size,this}},2827:r=>{var e=Function.prototype.toString;r.exports=function n(i){if(null!=i){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}},217:r=>{r.exports=function c(e,n){return e===n||e!=e&&n!=n}},7151:(r,c,e)=>{var n=e(186),i=e(2671),a=Object.prototype,l=a.hasOwnProperty,t=a.propertyIsEnumerable,p=n(function(){return arguments}())?n:function(d){return i(d)&&l.call(d,"callee")&&!t.call(d,"callee")};r.exports=p},1503:r=>{r.exports=Array.isArray},6507:(r,c,e)=>{var n=e(5946),i=e(6231);r.exports=function a(l){return null!=l&&i(l.length)&&!n(l)}},891:(r,c,e)=>{r=e.nmd(r);var n=e(2119),i=e(3580),a=c&&!c.nodeType&&c,l=a&&r&&!r.nodeType&&r,p=l&&l.exports===a?n.Buffer:void 0;r.exports=(p?p.isBuffer:void 0)||i},4509:(r,c,e)=>{var n=e(5740);r.exports=function i(a,l){return n(a,l)}},5946:(r,c,e)=>{var n=e(3337),i=e(5940);r.exports=function d(g){if(!i(g))return!1;var h=n(g);return"[object Function]"==h||"[object GeneratorFunction]"==h||"[object AsyncFunction]"==h||"[object Proxy]"==h}},6231:r=>{r.exports=function e(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},5940:r=>{r.exports=function c(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},2671:r=>{r.exports=function c(e){return null!=e&&"object"==typeof e}},8159:(r,c,e)=>{var n=e(1083),i=e(5647),a=e(3597),l=a&&a.isTypedArray,t=l?i(l):n;r.exports=t},118:(r,c,e)=>{var n=e(2271),i=e(1172),a=e(6507);r.exports=function l(t){return a(t)?n(t):i(t)}},9975:r=>{r.exports=function c(){return[]}},3580:r=>{r.exports=function c(){return!1}}}]);